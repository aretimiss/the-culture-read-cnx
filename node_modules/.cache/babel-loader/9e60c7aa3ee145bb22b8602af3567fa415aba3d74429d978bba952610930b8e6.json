{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\the-culture-read-cnx\\\\src\\\\pages\\\\BookArticleDetail.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/pages/BookArticleDetail.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { motion, useScroll, useSpring, useTransform } from \"framer-motion\";\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport BackToTop from \"../components/BackToTop\";\nimport { api, fetchJsonWithProxies } from \"../lib/omekaClient\";\nimport { pickLang } from \"../lib/i18nPick\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\n\n/** helpers */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeHttps = raw => raw ? raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw : \"\";\nconst getValLang = (item, prop, fallback = \"-\") => {\n  var _ref, _pickLang, _item$prop, _item$prop$;\n  // ใช้ค่าแบบหลายภาษา (ถ้ามี) ก่อน แล้วค่อย fallback\n  const v = (_ref = (_pickLang = pickLang(item === null || item === void 0 ? void 0 : item[prop], i18n.language)) !== null && _pickLang !== void 0 ? _pickLang : item === null || item === void 0 ? void 0 : (_item$prop = item[prop]) === null || _item$prop === void 0 ? void 0 : (_item$prop$ = _item$prop[0]) === null || _item$prop$ === void 0 ? void 0 : _item$prop$[\"@value\"]) !== null && _ref !== void 0 ? _ref : fallback;\n  return v;\n};\n\n/** Small anchor-dot nav like Delassus */\nfunction SectionDots({\n  sections\n}) {\n  _s();\n  const [active, setActive] = useState(0);\n  useEffect(() => {\n    const els = sections.map(s => document.getElementById(s.id));\n    const io = new IntersectionObserver(entries => {\n      const vis = entries.filter(e => e.isIntersecting).sort((a, b) => b.intersectionRatio - a.intersectionRatio);\n      if (vis[0]) {\n        const idx = els.findIndex(el => el === vis[0].target);\n        if (idx >= 0) setActive(idx);\n      }\n    }, {\n      root: null,\n      threshold: [0.2, 0.5, 0.8]\n    });\n    els.forEach(el => el && io.observe(el));\n    return () => io.disconnect();\n  }, [sections]);\n  const scrollTo = id => {\n    var _document$getElementB;\n    return (_document$getElementB = document.getElementById(id)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hidden md:flex fixed right-6 top-1/2 -translate-y-1/2 z-40 flex-col gap-3\",\n    children: sections.map((s, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n      \"aria-label\": `Go to ${s.label}`,\n      onClick: () => scrollTo(s.id),\n      className: `w-3.5 h-3.5 rounded-full ring-1 ring-[#d6c8bb] transition-all ${i === active ? \"bg-[#d8653b] scale-110\" : \"bg-[#efe7dd] hover:bg-[#e5d7ca]\"}`\n    }, s.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n/** Responsive image with gentle parallax */\n_s(SectionDots, \"g0++h9M18jyb+3aelILICt47jn0=\");\n_c = SectionDots;\nfunction ParallaxImage({\n  src,\n  alt,\n  className = \"\"\n}) {\n  _s2();\n  const ref = useRef(null);\n  const {\n    scrollYProgress\n  } = useScroll({\n    target: ref,\n    offset: [\"start end\", \"end start\"]\n  });\n  const y = useTransform(scrollYProgress, [0, 1], [0, -30]);\n  const smoothY = useSpring(y, {\n    stiffness: 100,\n    damping: 20\n  });\n  return /*#__PURE__*/_jsxDEV(motion.figure, {\n    ref: ref,\n    style: {\n      y: smoothY\n    },\n    className: `overflow-hidden rounded-3xl ring-1 ring-[#eadfce] shadow-sm ${className}`,\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: src,\n      alt: alt,\n      className: \"w-full h-full object-cover\",\n      loading: \"lazy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(ParallaxImage, \"gm0uLJMg/Qy97OUUgItZTvHfiPA=\", false, function () {\n  return [useScroll, useTransform, useSpring];\n});\n_c2 = ParallaxImage;\nexport default function BookArticleDetail() {\n  _s3();\n  var _meta$descList;\n  const {\n    t\n  } = useTranslation();\n  const {\n    id\n  } = useParams();\n  const [item, setItem] = useState(null);\n  const [err, setErr] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!id) {\n      setLoading(false);\n      setErr(t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\n      return;\n    }\n    let keep = true;\n    (async () => {\n      try {\n        setLoading(true);\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!keep) return;\n        setItem(data);\n        const title = getValLang(data, \"dcterms:title\", (data === null || data === void 0 ? void 0 : data[\"o:title\"]) || \"Book\");\n        document.title = `${title} · ${t(\"book.showcase\", \"Showcase\")}`;\n      } catch (e) {\n        if (keep) setErr((e === null || e === void 0 ? void 0 : e.message) || t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\n      } finally {\n        if (keep) setLoading(false);\n      }\n    })();\n    return () => {\n      keep = false;\n    };\n  }, [id, t]);\n  const meta = useMemo(() => {\n    var _item$thumbnail_displ, _item$thumbnail_displ2;\n    if (!item) return {};\n    const cover = (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ = item.thumbnail_display_urls) === null || _item$thumbnail_displ === void 0 ? void 0 : _item$thumbnail_displ.large) || (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ2 = item.thumbnail_display_urls) === null || _item$thumbnail_displ2 === void 0 ? void 0 : _item$thumbnail_displ2.medium) || \"/assets/placeholder.webp\";\n    const title = getValLang(item, \"dcterms:title\", (item === null || item === void 0 ? void 0 : item[\"o:title\"]) || t(\"book.untitled\", \"Untitled\"));\n    const lang = getValLang(item, \"dcterms:language\", \"und\");\n    const publisher = getValLang(item, \"dcterms:publisher\", \"-\");\n    const date = getValLang(item, \"dcterms:date\", \"-\");\n    const creator = getValLang(item, \"dcterms:creator\", \"-\");\n    const type = getValLang(item, \"dcterms:type\", t(\"book.type\", \"Book\"));\n    const extent = getValLang(item, \"dcterms:extent\", \"\");\n    const rights = getValLang(item, \"dcterms:rights\", \"\");\n\n    // บทความ/คำโปรยหลายภาษา\n    const descList = Array.isArray(item === null || item === void 0 ? void 0 : item[\"dcterms:description\"]) ? item[\"dcterms:description\"].map(d => d === null || d === void 0 ? void 0 : d[\"@value\"]).filter(Boolean) : [];\n    return {\n      cover,\n      lang,\n      publisher,\n      date,\n      creator,\n      type,\n      extent,\n      rights,\n      title,\n      descList\n    };\n  }, [item, t]);\n  const sections = [{\n    id: \"ov\",\n    label: t(\"book.overview\", \"Overview\")\n  }, {\n    id: \"facts\",\n    label: t(\"book.keyFacts\", \"Key Facts\")\n  }, {\n    id: \"author\",\n    label: t(\"book.author\", \"Author\")\n  }, {\n    id: \"excerpt\",\n    label: t(\"book.excerpts\", \"Excerpts\")\n  }, {\n    id: \"gallery\",\n    label: t(\"book.gallery\", \"Gallery\")\n  }, {\n    id: \"cta\",\n    label: t(\"actions.read\", \"Read\")\n  }];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"pt-28 grid place-items-center text-[#7b6c61]\",\n        children: t(\"status.loading\", \"กำลังโหลด…\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  if (err) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"pt-28 grid place-items-center text-red-700\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\",\n    children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SectionDots, {\n      sections: sections\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"ov\",\n      className: \"pt-28 md:pt-32 pb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-2 gap-6 md:gap-10 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(ParallaxImage, {\n          src: normalizeHttps(meta.cover),\n          alt: meta.title || \"cover\",\n          className: \"aspect-[3/4]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm tracking-widest uppercase text-[#a5866e] mb-3\",\n            children: t(\"book.featured\", \"Featured Book\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl md:text-5xl font-extrabold leading-tight text-[#5b4a3e]\",\n            children: meta.title || t(\"book.untitled\", \"Untitled\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-4 text-[15px] leading-7 text-[#5b4a3e] opacity-90 max-w-prose\",\n            children: ((_meta$descList = meta.descList) === null || _meta$descList === void 0 ? void 0 : _meta$descList[0]) || t(\"book.placeholderIntro\", \"A striking showcase section with clean typography and generous white space, inspired by Delassus.\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex flex-wrap gap-2\",\n            children: [meta.type || t(\"book.type\", \"Book\"), meta.lang || \"und\", meta.date || \"-\"].map(t0 => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-3 py-1 rounded-full bg-[#fffaf3] ring-1 ring-[#eadfce] text-sm text-[#5b4a3e]\",\n              children: t0\n            }, t0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 flex gap-3 flex-wrap\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: id ? `/read/${id}` : \"#\",\n              className: \"px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95\",\n              children: t(\"actions.readNow\", \"Read now\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"facts\",\n      className: \"py-12 md:py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-12 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-3xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-6 md:p-8 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-4\",\n              children: t(\"book.details\", \"Details\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              className: \"grid grid-cols-2 gap-4 text-sm text-[#57493f]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.author\", \"Author\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.creator\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.published\", \"Published\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.publisher\", \"Publisher\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.publisher\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.language\", \"Language\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.lang\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), meta.extent && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.extent\", \"Extent\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.extent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), meta.rights && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                  className: \"opacity-60\",\n                  children: t(\"book.rights\", \"Rights\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                  className: \"font-medium\",\n                  children: meta.rights\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-7\",\n          children: /*#__PURE__*/_jsxDEV(ParallaxImage, {\n            src: normalizeHttps(meta.cover),\n            alt: \"cover large\",\n            className: \"aspect-[21/9]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"author\",\n      className: \"py-12 md:py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-2 gap-8 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-4\",\n            children: t(\"book.aboutAuthor\", \"About the author\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[#57493f] leading-8\",\n            children: [meta.creator && meta.creator !== \"-\" ? `${meta.creator} —` : t(\"book.authorDash\", \"The author —\"), \" \", t(\"book.authorBlurb\", \"This section mirrors Delassus-style editorial blocks: big headings, calm colors, and soft card edges. Replace with the author's biography or context of the work.\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ParallaxImage, {\n          src: normalizeHttps(meta.cover),\n          alt: \"author related\",\n          className: \"aspect-video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"excerpt\",\n      className: \"py-12 md:py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-5 md:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-3xl ring-1 ring-[#eadfce] bg-white p-6 md:p-10 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-6\",\n            children: t(\"book.highlighted\", \"Highlighted excerpts\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), ((_ref2, _meta$descList2, _meta$descList2$slice) => {\n            const excerpts = (_ref2 = (_meta$descList2 = meta.descList) !== null && _meta$descList2 !== void 0 && (_meta$descList2$slice = _meta$descList2.slice(0, 3)) !== null && _meta$descList2$slice !== void 0 && _meta$descList2$slice.length ? meta.descList.slice(0, 3) : [t(\"book.ex1\", \"An opening that sets the tone for discovery and cultural memory.\"), t(\"book.ex2\", \"A paragraph that reveals the texture of place and people.\"), t(\"book.ex3\", \"A passage whose cadence lingers beyond the page.\")]) !== null && _ref2 !== void 0 ? _ref2 : [];\n            const gridCols = excerpts.length <= 1 ? \"grid-cols-1\" : excerpts.length === 2 ? \"grid-cols-1 sm:grid-cols-2\" : \"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\";\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `grid ${gridCols} gap-6 md:gap-8`,\n              children: excerpts.map((t0, i) => /*#__PURE__*/_jsxDEV(\"blockquote\", {\n                className: \"h-full rounded-2xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-5 md:p-6 text-[#3f342d]\\r text-[15px] md:text-base leading-7 md:leading-8 shadow-[0_1px_0_#eadfce] flex\",\n                style: {\n                  hyphens: \"auto\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"m-0 [text-wrap:pretty]\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-[#d8653b] mr-2 select-none\",\n                    children: \"\\u201C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this), t0, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-[#d8653b] ml-1 select-none\",\n                    children: \"\\u201D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this);\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"gallery\",\n      className: \"py-12 md:py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-5 md:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-6\",\n          children: t(\"book.gallery\", \"Gallery\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n          children: Array.from({\n            length: 4\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(ParallaxImage, {\n            src: normalizeHttps(meta.cover),\n            alt: `page-${i + 1}`,\n            className: \"aspect-[3/4]\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"cta\",\n      className: \"py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-5xl mx-auto px-5 md:px-8 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-3xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-10 shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl md:text-3xl font-bold text-[#5b4a3e]\",\n            children: t(\"book.readNowTitle\", \"Read the book now\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-[#57493f] mt-2\",\n            children: t(\"book.readNowDesc\", \"ข้อความเชิญชวนบลาๆ.\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex items-center justify-center gap-3\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: id ? `/read/${id}` : \"#\",\n              className: \"px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95\",\n              children: t(\"actions.openReader\", \"Open Reader\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_s3(BookArticleDetail, \"VQnQFtllT+cYUyRJo75Vs+ZQMrQ=\", false, function () {\n  return [useTranslation, useParams];\n});\n_c3 = BookArticleDetail;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SectionDots\");\n$RefreshReg$(_c2, \"ParallaxImage\");\n$RefreshReg$(_c3, \"BookArticleDetail\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Link","useParams","motion","useScroll","useSpring","useTransform","SiteHeader","Footer","BackToTop","api","fetchJsonWithProxies","pickLang","useTranslation","i18n","jsxDEV","_jsxDEV","normalizeHttps","raw","startsWith","replace","getValLang","item","prop","fallback","_ref","_pickLang","_item$prop","_item$prop$","v","language","SectionDots","sections","_s","active","setActive","els","map","s","document","getElementById","id","io","IntersectionObserver","entries","vis","filter","e","isIntersecting","sort","a","b","intersectionRatio","idx","findIndex","el","target","root","threshold","forEach","observe","disconnect","scrollTo","_document$getElementB","scrollIntoView","behavior","block","className","children","i","label","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","ParallaxImage","src","alt","_s2","ref","scrollYProgress","offset","y","smoothY","stiffness","damping","figure","style","loading","_c2","BookArticleDetail","_s3","_meta$descList","t","setItem","err","setErr","setLoading","keep","data","title","message","meta","_item$thumbnail_displ","_item$thumbnail_displ2","cover","thumbnail_display_urls","large","medium","lang","publisher","date","creator","type","extent","rights","descList","Array","isArray","d","Boolean","t0","to","_ref2","_meta$descList2","_meta$descList2$slice","excerpts","slice","length","gridCols","hyphens","from","_","_c3","$RefreshReg$"],"sources":["C:/Users/user/Documents/GitHub/the-culture-read-cnx/src/pages/BookArticleDetail.jsx"],"sourcesContent":["// src/pages/BookArticleDetail.jsx\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { motion, useScroll, useSpring, useTransform } from \"framer-motion\";\r\n\r\nimport SiteHeader from \"../components/SiteHeader\";\r\nimport Footer from \"../components/Footer\";\r\nimport BackToTop from \"../components/BackToTop\";\r\n\r\nimport { api, fetchJsonWithProxies } from \"../lib/omekaClient\";\r\nimport { pickLang } from \"../lib/i18nPick\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport i18n from \"../i18n\";\r\n\r\n/** helpers */\r\nconst normalizeHttps = (raw) =>\r\n  raw ? (raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw) : \"\";\r\n\r\nconst getValLang = (item, prop, fallback = \"-\") => {\r\n  // ใช้ค่าแบบหลายภาษา (ถ้ามี) ก่อน แล้วค่อย fallback\r\n  const v =\r\n    pickLang(item?.[prop], i18n.language) ??\r\n    item?.[prop]?.[0]?.[\"@value\"] ??\r\n    fallback;\r\n  return v;\r\n};\r\n\r\n/** Small anchor-dot nav like Delassus */\r\nfunction SectionDots({ sections }) {\r\n  const [active, setActive] = useState(0);\r\n  useEffect(() => {\r\n    const els = sections.map((s) => document.getElementById(s.id));\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        const vis = entries\r\n          .filter((e) => e.isIntersecting)\r\n          .sort((a, b) => b.intersectionRatio - a.intersectionRatio);\r\n        if (vis[0]) {\r\n          const idx = els.findIndex((el) => el === vis[0].target);\r\n          if (idx >= 0) setActive(idx);\r\n        }\r\n      },\r\n      { root: null, threshold: [0.2, 0.5, 0.8] }\r\n    );\r\n    els.forEach((el) => el && io.observe(el));\r\n    return () => io.disconnect();\r\n  }, [sections]);\r\n  const scrollTo = (id) =>\r\n    document.getElementById(id)?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n  return (\r\n    <div className=\"hidden md:flex fixed right-6 top-1/2 -translate-y-1/2 z-40 flex-col gap-3\">\r\n      {sections.map((s, i) => (\r\n        <button\r\n          key={s.id}\r\n          aria-label={`Go to ${s.label}`}\r\n          onClick={() => scrollTo(s.id)}\r\n          className={`w-3.5 h-3.5 rounded-full ring-1 ring-[#d6c8bb] transition-all ${\r\n            i === active ? \"bg-[#d8653b] scale-110\" : \"bg-[#efe7dd] hover:bg-[#e5d7ca]\"\r\n          }`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n/** Responsive image with gentle parallax */\r\nfunction ParallaxImage({ src, alt, className = \"\" }) {\r\n  const ref = useRef(null);\r\n  const { scrollYProgress } = useScroll({ target: ref, offset: [\"start end\", \"end start\"] });\r\n  const y = useTransform(scrollYProgress, [0, 1], [0, -30]);\r\n  const smoothY = useSpring(y, { stiffness: 100, damping: 20 });\r\n  return (\r\n    <motion.figure\r\n      ref={ref}\r\n      style={{ y: smoothY }}\r\n      className={`overflow-hidden rounded-3xl ring-1 ring-[#eadfce] shadow-sm ${className}`}\r\n    >\r\n      <img src={src} alt={alt} className=\"w-full h-full object-cover\" loading=\"lazy\" />\r\n    </motion.figure>\r\n  );\r\n}\r\n\r\nexport default function BookArticleDetail() {\r\n  const { t } = useTranslation();\r\n  const { id } = useParams();\r\n\r\n  const [item, setItem] = useState(null);\r\n  const [err, setErr] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setLoading(false);\r\n      setErr(t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\r\n      return;\r\n    }\r\n    let keep = true;\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\r\n        if (!keep) return;\r\n        setItem(data);\r\n\r\n        const title =\r\n          getValLang(data, \"dcterms:title\", data?.[\"o:title\"] || \"Book\");\r\n        document.title = `${title} · ${t(\"book.showcase\", \"Showcase\")}`;\r\n      } catch (e) {\r\n        if (keep) setErr(e?.message || t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\r\n      } finally {\r\n        if (keep) setLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      keep = false;\r\n    };\r\n  }, [id, t]);\r\n\r\n  const meta = useMemo(() => {\r\n    if (!item) return {};\r\n    const cover =\r\n      item?.thumbnail_display_urls?.large ||\r\n      item?.thumbnail_display_urls?.medium ||\r\n      \"/assets/placeholder.webp\";\r\n\r\n    const title =\r\n      getValLang(item, \"dcterms:title\", item?.[\"o:title\"] || t(\"book.untitled\", \"Untitled\"));\r\n    const lang = getValLang(item, \"dcterms:language\", \"und\");\r\n    const publisher = getValLang(item, \"dcterms:publisher\", \"-\");\r\n    const date = getValLang(item, \"dcterms:date\", \"-\");\r\n    const creator = getValLang(item, \"dcterms:creator\", \"-\");\r\n    const type = getValLang(item, \"dcterms:type\", t(\"book.type\", \"Book\"));\r\n    const extent = getValLang(item, \"dcterms:extent\", \"\");\r\n    const rights = getValLang(item, \"dcterms:rights\", \"\");\r\n\r\n    // บทความ/คำโปรยหลายภาษา\r\n    const descList = Array.isArray(item?.[\"dcterms:description\"])\r\n      ? item[\"dcterms:description\"].map((d) => d?.[\"@value\"]).filter(Boolean)\r\n      : [];\r\n\r\n    return { cover, lang, publisher, date, creator, type, extent, rights, title, descList };\r\n  }, [item, t]);\r\n\r\n  const sections = [\r\n    { id: \"ov\", label: t(\"book.overview\", \"Overview\") },\r\n    { id: \"facts\", label: t(\"book.keyFacts\", \"Key Facts\") },\r\n    { id: \"author\", label: t(\"book.author\", \"Author\") },\r\n    { id: \"excerpt\", label: t(\"book.excerpts\", \"Excerpts\") },\r\n    { id: \"gallery\", label: t(\"book.gallery\", \"Gallery\") },\r\n    { id: \"cta\", label: t(\"actions.read\", \"Read\") },\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\">\r\n        <SiteHeader />\r\n        <main className=\"pt-28 grid place-items-center text-[#7b6c61]\">\r\n          {t(\"status.loading\", \"กำลังโหลด…\")}\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n  if (err) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\">\r\n        <SiteHeader />\r\n        <main className=\"pt-28 grid place-items-center text-red-700\">{err}</main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#faf7f2] text-[#1b1b1b]\">\r\n      <SiteHeader />\r\n      <SectionDots sections={sections} />\r\n\r\n      {/* HERO */}\r\n      <header id=\"ov\" className=\"pt-28 md:pt-32 pb-8\">\r\n        <div className=\"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-2 gap-6 md:gap-10 items-center\">\r\n          <ParallaxImage\r\n            src={normalizeHttps(meta.cover)}\r\n            alt={meta.title || \"cover\"}\r\n            className=\"aspect-[3/4]\"\r\n          />\r\n          <div>\r\n            <p className=\"text-sm tracking-widest uppercase text-[#a5866e] mb-3\">\r\n              {t(\"book.featured\", \"Featured Book\")}\r\n            </p>\r\n            <h1 className=\"text-3xl md:text-5xl font-extrabold leading-tight text-[#5b4a3e]\">\r\n              {meta.title || t(\"book.untitled\", \"Untitled\")}\r\n            </h1>\r\n            <p className=\"mt-4 text-[15px] leading-7 text-[#5b4a3e] opacity-90 max-w-prose\">\r\n              {meta.descList?.[0] ||\r\n                t(\r\n                  \"book.placeholderIntro\",\r\n                  \"A striking showcase section with clean typography and generous white space, inspired by Delassus.\"\r\n                )}\r\n            </p>\r\n            <div className=\"mt-6 flex flex-wrap gap-2\">\r\n              {[meta.type || t(\"book.type\", \"Book\"), meta.lang || \"und\", meta.date || \"-\"].map(\r\n                (t0) => (\r\n                  <span\r\n                    key={t0}\r\n                    className=\"px-3 py-1 rounded-full bg-[#fffaf3] ring-1 ring-[#eadfce] text-sm text-[#5b4a3e]\"\r\n                  >\r\n                    {t0}\r\n                  </span>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"mt-8 flex gap-3 flex-wrap\">\r\n              <Link\r\n                to={id ? `/read/${id}` : \"#\"}\r\n                className=\"px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95\"\r\n              >\r\n                {t(\"actions.readNow\", \"Read now\")}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* KEY FACTS */}\r\n      <section id=\"facts\" className=\"py-12 md:py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-12 gap-6\">\r\n          <div className=\"md:col-span-5\">\r\n            <div className=\"rounded-3xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-6 md:p-8 shadow-sm\">\r\n              <h2 className=\"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-4\">\r\n                {t(\"book.details\", \"Details\")}\r\n              </h2>\r\n              <dl className=\"grid grid-cols-2 gap-4 text-sm text-[#57493f]\">\r\n                <div>\r\n                  <dt className=\"opacity-60\">{t(\"book.author\", \"Author\")}</dt>\r\n                  <dd className=\"font-medium\">{meta.creator}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"opacity-60\">{t(\"book.published\", \"Published\")}</dt>\r\n                  <dd className=\"font-medium\">{meta.date}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"opacity-60\">{t(\"book.publisher\", \"Publisher\")}</dt>\r\n                  <dd className=\"font-medium\">{meta.publisher}</dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"opacity-60\">{t(\"book.language\", \"Language\")}</dt>\r\n                  <dd className=\"font-medium\">{meta.lang}</dd>\r\n                </div>\r\n                {meta.extent && (\r\n                  <div>\r\n                    <dt className=\"opacity-60\">{t(\"book.extent\", \"Extent\")}</dt>\r\n                    <dd className=\"font-medium\">{meta.extent}</dd>\r\n                  </div>\r\n                )}\r\n                {meta.rights && (\r\n                  <div className=\"col-span-2\">\r\n                    <dt className=\"opacity-60\">{t(\"book.rights\", \"Rights\")}</dt>\r\n                    <dd className=\"font-medium\">{meta.rights}</dd>\r\n                  </div>\r\n                )}\r\n              </dl>\r\n            </div>\r\n          </div>\r\n          <div className=\"md:col-span-7\">\r\n            <ParallaxImage\r\n              src={normalizeHttps(meta.cover)}\r\n              alt=\"cover large\"\r\n              className=\"aspect-[21/9]\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* AUTHOR */}\r\n      <section id=\"author\" className=\"py-12 md:py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-5 md:px-8 grid md:grid-cols-2 gap-8 items-center\">\r\n          <div>\r\n            <h2 className=\"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-4\">\r\n              {t(\"book.aboutAuthor\", \"About the author\")}\r\n            </h2>\r\n            <p className=\"text-[#57493f] leading-8\">\r\n              {meta.creator && meta.creator !== \"-\" ? `${meta.creator} —` : t(\"book.authorDash\", \"The author —\")}{\" \"}\r\n              {t(\r\n                \"book.authorBlurb\",\r\n                \"This section mirrors Delassus-style editorial blocks: big headings, calm colors, and soft card edges. Replace with the author's biography or context of the work.\"\r\n              )}\r\n            </p>\r\n          </div>\r\n          <ParallaxImage\r\n            src={normalizeHttps(meta.cover)}\r\n            alt=\"author related\"\r\n            className=\"aspect-video\"\r\n          />\r\n        </div>\r\n      </section>\r\n\r\n      {/* EXCERPTS */}\r\n      <section id=\"excerpt\" className=\"py-12 md:py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-5 md:px-8\">\r\n          <div className=\"rounded-3xl ring-1 ring-[#eadfce] bg-white p-6 md:p-10 shadow-sm\">\r\n            <h2 className=\"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-6\">\r\n              {t(\"book.highlighted\", \"Highlighted excerpts\")}\r\n            </h2>\r\n\r\n            {(() => {\r\n              const excerpts =\r\n                (meta.descList?.slice(0, 3)?.length\r\n                  ? meta.descList.slice(0, 3)\r\n                  : [\r\n                      t(\"book.ex1\", \"An opening that sets the tone for discovery and cultural memory.\"),\r\n                      t(\"book.ex2\", \"A paragraph that reveals the texture of place and people.\"),\r\n                      t(\"book.ex3\", \"A passage whose cadence lingers beyond the page.\"),\r\n                    ]) ?? [];\r\n\r\n              const gridCols =\r\n                excerpts.length <= 1\r\n                  ? \"grid-cols-1\"\r\n                  : excerpts.length === 2\r\n                  ? \"grid-cols-1 sm:grid-cols-2\"\r\n                  : \"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\";\r\n\r\n              return (\r\n                <div className={`grid ${gridCols} gap-6 md:gap-8`}>\r\n                  {excerpts.map((t0, i) => (\r\n                    <blockquote\r\n                      key={i}\r\n                      className=\"h-full rounded-2xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-5 md:p-6 text-[#3f342d]\r\n                                 text-[15px] md:text-base leading-7 md:leading-8 shadow-[0_1px_0_#eadfce] flex\"\r\n                      style={{ hyphens: \"auto\" }}\r\n                    >\r\n                      <p className=\"m-0 [text-wrap:pretty]\">\r\n                        <span className=\"text-[#d8653b] mr-2 select-none\">“</span>\r\n                        {t0}\r\n                        <span className=\"text-[#d8653b] ml-1 select-none\">”</span>\r\n                      </p>\r\n                    </blockquote>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* GALLERY */}\r\n      <section id=\"gallery\" className=\"py-12 md:py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-5 md:px-8\">\r\n          <h2 className=\"text-2xl md:text-3xl font-bold text-[#5b4a3e] mb-6\">\r\n            {t(\"book.gallery\", \"Gallery\")}\r\n          </h2>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            {Array.from({ length: 4 }).map((_, i) => (\r\n              <ParallaxImage\r\n                key={i}\r\n                src={normalizeHttps(meta.cover)}\r\n                alt={`page-${i + 1}`}\r\n                className=\"aspect-[3/4]\"\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA */}\r\n      <section id=\"cta\" className=\"py-16\">\r\n        <div className=\"max-w-5xl mx-auto px-5 md:px-8 text-center\">\r\n          <div className=\"rounded-3xl bg-[#fffaf3] ring-1 ring-[#eadfce] p-10 shadow\">\r\n            <h3 className=\"text-2xl md:text-3xl font-bold text-[#5b4a3e]\">\r\n              {t(\"book.readNowTitle\", \"Read the book now\")}\r\n            </h3>\r\n            <p className=\"text-[#57493f] mt-2\">{t(\"book.readNowDesc\", \"ข้อความเชิญชวนบลาๆ.\")}</p>\r\n            <div className=\"mt-6 flex items-center justify-center gap-3\">\r\n              <Link\r\n                to={id ? `/read/${id}` : \"#\"}\r\n                className=\"px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95\"\r\n              >\r\n                {t(\"actions.openReader\", \"Open Reader\")}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <Footer />\r\n      <BackToTop />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}