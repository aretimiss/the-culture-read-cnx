{"ast":null,"code":"import React,{useEffect,useState,useMemo}from\"react\";import axios from\"axios\";import\"./App.css\";/** ====== ENV & URL helpers ====== */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RAW_BASE=process.env.REACT_APP_API_BASE_URL||\"\";const BASE_URL=RAW_BASE.replace(/\\/+$/,\"\");const withKeys=url=>{const key_identity=process.env.REACT_APP_API_KEY_IDENTITY;const key_credential=process.env.REACT_APP_API_KEY_CREDENTIAL;const sep=url.includes(\"?\")?\"&\":\"?\";return\"\".concat(url).concat(sep,\"key_identity=\").concat(key_identity,\"&key_credential=\").concat(key_credential);};const api=path=>withKeys(\"\".concat(BASE_URL).concat(path.startsWith(\"/\")?path:\"/\".concat(path)));const fetchJsonWithProxies=async finalUrl=>{try{const viaAllorigins=\"https://api.allorigins.win/get?url=\".concat(encodeURIComponent(finalUrl));const r1=await axios.get(viaAllorigins,{timeout:15000});return JSON.parse(r1.data.contents);}catch(_unused){}try{const viaCodetabs=\"https://api.codetabs.com/v1/proxy?quest=\".concat(encodeURIComponent(finalUrl));const r2=await axios.get(viaCodetabs,{timeout:15000});return r2.data;}catch(_unused2){}const r3=await axios.get(finalUrl,{timeout:15000});return r3.data;};/** ====== Small helpers ====== */const titleOf=item=>{var _item$dctermsTitle,_item$dctermsTitle$;return item[\"o:title\"]||((_item$dctermsTitle=item[\"dcterms:title\"])===null||_item$dctermsTitle===void 0?void 0:(_item$dctermsTitle$=_item$dctermsTitle[0])===null||_item$dctermsTitle$===void 0?void 0:_item$dctermsTitle$[\"@value\"])||\"ไม่มีชื่อเอกสาร\";};const descOf=item=>{var _item$dctermsAbstrac,_item$dctermsAbstrac$,_item$dctermsDescrip,_item$dctermsDescrip$;return((_item$dctermsAbstrac=item[\"dcterms:abstract\"])===null||_item$dctermsAbstrac===void 0?void 0:(_item$dctermsAbstrac$=_item$dctermsAbstrac[0])===null||_item$dctermsAbstrac$===void 0?void 0:_item$dctermsAbstrac$[\"@value\"])||((_item$dctermsDescrip=item[\"dcterms:description\"])===null||_item$dctermsDescrip===void 0?void 0:(_item$dctermsDescrip$=_item$dctermsDescrip[0])===null||_item$dctermsDescrip$===void 0?void 0:_item$dctermsDescrip$[\"@value\"])||\"\";};const thumbOf=item=>{var _item$thumbnail_displ,_item$thumbnail_displ2,_item$thumbnail_displ3;return(item===null||item===void 0?void 0:(_item$thumbnail_displ=item.thumbnail_display_urls)===null||_item$thumbnail_displ===void 0?void 0:_item$thumbnail_displ.large)||(item===null||item===void 0?void 0:(_item$thumbnail_displ2=item.thumbnail_display_urls)===null||_item$thumbnail_displ2===void 0?void 0:_item$thumbnail_displ2.medium)||(item===null||item===void 0?void 0:(_item$thumbnail_displ3=item.thumbnail_display_urls)===null||_item$thumbnail_displ3===void 0?void 0:_item$thumbnail_displ3.square)||null;};const createdOf=item=>{var _item$oCreated;const iso=item===null||item===void 0?void 0:(_item$oCreated=item[\"o:created\"])===null||_item$oCreated===void 0?void 0:_item$oCreated[\"@value\"];if(!iso)return\"-\";const d=new Date(iso);return d.toLocaleDateString(\"th-TH\",{year:\"numeric\",month:\"long\",day:\"numeric\"});};/** ====== UI Components (Tailwind) ====== */function SiteHeader(_ref){let{query,setQuery,onSearch}=_ref;return/*#__PURE__*/_jsxs(\"header\",{className:\"flex items-center justify-between border-b border-[#f0f3f4] dark:border-gray-800 px-4 sm:px-10 lg:px-40 py-3 bg-white dark:bg-background-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-[#111518] dark:text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-6 text-primary\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"fill-current\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold font-display leading-tight tracking-[-0.015em]\",children:\"The Culture Read @CNX\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex flex-1 justify-end gap-8\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center gap-9\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navlink\",href:\"#\",children:\"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2B\\u0E25\\u0E31\\u0E01\"}),/*#__PURE__*/_jsx(\"a\",{className:\"navlink\",href:\"#\",children:\"\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"}),/*#__PURE__*/_jsx(\"a\",{className:\"navlink\",href:\"#\",children:\"\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\"}),/*#__PURE__*/_jsx(\"a\",{className:\"navlink\",href:\"#\",children:\"\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\"}),/*#__PURE__*/_jsx(\"a\",{className:\"navlink\",href:\"#\",children:\"\\u0E04\\u0E27\\u0E32\\u0E21\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E21\\u0E32\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"md:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[#111518] dark:text-white\",children:\"menu\"})})]});}function Hero(_ref2){let{query,setQuery,onSearch}=_ref2;// 1) รายการสไลด์ (ใส่ลิงก์รูปจริงของคุณ)\nconst slides=[{img:\"/assets/hero.jpg\"},{img:\"/assets/hero2.jpeg\"},{img:\"/assets/hero3.jpg\"}];const[index,setIndex]=useState(0);// 2) เปลี่ยนสไลด์อัตโนมัติทุก 5 วิ\nuseEffect(()=>{const t=setInterval(()=>{setIndex(i=>(i+1)%slides.length);},5000);return()=>clearInterval(t);},[slides.length]);const current=slides[index];return(/*#__PURE__*/// 3) ทำให้ hero เต็มกว้าง สูงตามที่กำหนด\n_jsxs(\"section\",{className:\"relative w-full h-[520px] md:h-[620px] overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:current.img,alt:current.title,className:\"absolute inset-0 w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 h-full flex items-center justify-center px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl w-full text-center rounded-2xl shadow-lg p-6 md:p-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-5xl font-extrabold text-gray-900 dark:text-white leading-snug\",children:current.title}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-base md:text-xl text-gray-800 dark:text-gray-200\",children:current.subtitle}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6 flex w-full max-w-xl mx-auto\",onSubmit:e=>{e.preventDefault();onSearch===null||onSearch===void 0?void 0:onSearch();},children:[/*#__PURE__*/_jsx(\"input\",{className:\"flex-1 h-12 md:h-14 px-4 rounded-l-lg border border-gray-300 focus:outline-none\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D \\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21 \\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E04\\u0E2D\\u0E25\\u0E40\\u0E25\\u0E01\\u0E0A\\u0E31\\u0E19...\",value:query,onChange:e=>setQuery(e.target.value),\"aria-label\":\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-5 rounded-r-lg bg-accent text-white font-bold\",children:\"Search\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 flex gap-2\",children:slides.map((_,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 rounded-full transition-all \".concat(i===index?\"bg-accent scale-110\":\"bg-white/60\")},i))})]})]}));}function Card(_ref3){let{item,onOpen}=_ref3;const title=titleOf(item);const desc=descOf(item);const thumb=thumbOf(item);return/*#__PURE__*/_jsxs(\"article\",{className:\"flex flex-col h-full bg-white dark:bg-gray-900 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-lg transition-shadow duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full aspect-[3/4] flex items-center justify-center\",children:thumb?/*#__PURE__*/_jsx(\"img\",{src:thumb,alt:title,className:\"w-full h-full object-contain\",loading:\"lazy\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-100\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 p-4 grow\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-primary text-sm font-bold\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[#111518] dark:text-white text-base font-medium font-display leading-snug line-clamp-2\",children:title}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07: \",createdOf(item)]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto pt-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onOpen(item),className:\"bg-primary text-white text-sm font-bold px-4 py-2 rounded-lg\",children:\"\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E2D\\u0E48\\u0E32\\u0E19 PDF\"})})]})]});}function Footer(){return/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 px-4 sm:px-10 lg:px-40 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-6 text-primary\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"fill-current\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[#111518] dark:text-white text-lg font-bold font-display\",children:\"The Culture Read @CNX\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#637c88] dark:text-gray-400 text-sm\",children:\"\\xA9 2025 The Culture Read @CNX. All rights reserved.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"footer-title\",children:\"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D 1\"}),/*#__PURE__*/_jsx(\"a\",{className:\"footer-link\",href:\"#\",children:\"1.1\"}),/*#__PURE__*/_jsx(\"a\",{className:\"footer-link\",href:\"#\",children:\"1.2\"}),/*#__PURE__*/_jsx(\"a\",{className:\"footer-link\",href:\"#\",children:\"1.3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"footer-title\",children:\"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D 2\"}),/*#__PURE__*/_jsx(\"a\",{className:\"footer-link\",href:\"#\",children:\"2.1\"}),/*#__PURE__*/_jsx(\"a\",{className:\"footer-link\",href:\"#\",children:\"2.2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"footer-title\",children:\"Developers\"}),/*#__PURE__*/_jsxs(\"a\",{className:\"footer-link flex items-center gap-2\",href:\"#\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"API Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2.5 h-2.5 bg-green-500 rounded-full\"})]})]})]})});}/** ====== App ====== */export default function App(){const[items,setItems]=useState([]);const[query,setQuery]=useState(\"\");const[loading,setLoading]=useState(true);const[err,setErr]=useState(\"\");useEffect(()=>{load();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const load=async()=>{try{setLoading(true);if(!process.env.REACT_APP_API_KEY_IDENTITY||!process.env.REACT_APP_API_KEY_CREDENTIAL){throw new Error(\"API keys not found. Please check your .env file.\");}// ถ้าจะใช้ fulltext จริง ๆ ให้เปลี่ยนเป็น api(`/items?fulltext_search=${encodeURIComponent(query)}`)\nconst data=await fetchJsonWithProxies(api(\"/items\"));setItems(Array.isArray(data)?data:[]);setErr(\"\");}catch(e){setErr((e===null||e===void 0?void 0:e.message)||\"โหลดข้อมูลไม่สำเร็จ\");}finally{setLoading(false);}};const filtered=useMemo(()=>{if(!query.trim())return items;const q=query.toLowerCase();return items.filter(it=>{const t=titleOf(it).toLowerCase();const d=descOf(it).toLowerCase();return t.includes(q)||d.includes(q);});},[items,query]);const openPDF=async item=>{try{var _item$oPrimary_media;const mediaId=item===null||item===void 0?void 0:(_item$oPrimary_media=item[\"o:primary_media\"])===null||_item$oPrimary_media===void 0?void 0:_item$oPrimary_media[\"o:id\"];if(!mediaId)throw new Error(\"ไม่พบไฟล์หลักของรายการนี้\");const media=await fetchJsonWithProxies(api(\"/media/\".concat(mediaId)));const url=media===null||media===void 0?void 0:media[\"o:original_url\"];if(!url)throw new Error(\"ไม่พบ URL ของไฟล์ PDF\");window.open(url,\"_blank\");}catch(e){alert((e===null||e===void 0?void 0:e.message)||\"เปิดไฟล์ไม่สำเร็จ\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background-light dark:bg-background-dark text-[#111518] dark:text-white\",children:[/*#__PURE__*/_jsx(SiteHeader,{query:query,setQuery:setQuery,onSearch:()=>{}}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(Hero,{query:query,setQuery:setQuery,onSearch:()=>{}}),/*#__PURE__*/_jsxs(\"section\",{className:\"px-4 sm:px-10 lg:px-40\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E43\\u0E19\\u0E0A\\u0E48\\u0E27\\u0E07\\u0E1E\\u0E31\\u0E12\\u0E19\\u0E32\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"state\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u2026\"}):err?/*#__PURE__*/_jsxs(\"div\",{className:\"state text-red-500\",children:[\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14: \",err]}):filtered.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"state\",children:\"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] items-stretch gap-6 p-4\",children:filtered.slice(0,12).map(item=>/*#__PURE__*/_jsx(Card,{item:item,onOpen:openPDF},item[\"o:id\"]))})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useState","useMemo","axios","jsx","_jsx","jsxs","_jsxs","RAW_BASE","process","env","REACT_APP_API_BASE_URL","BASE_URL","replace","withKeys","url","key_identity","REACT_APP_API_KEY_IDENTITY","key_credential","REACT_APP_API_KEY_CREDENTIAL","sep","includes","concat","api","path","startsWith","fetchJsonWithProxies","finalUrl","viaAllorigins","encodeURIComponent","r1","get","timeout","JSON","parse","data","contents","_unused","viaCodetabs","r2","_unused2","r3","titleOf","item","_item$dctermsTitle","_item$dctermsTitle$","descOf","_item$dctermsAbstrac","_item$dctermsAbstrac$","_item$dctermsDescrip","_item$dctermsDescrip$","thumbOf","_item$thumbnail_displ","_item$thumbnail_displ2","_item$thumbnail_displ3","thumbnail_display_urls","large","medium","square","createdOf","_item$oCreated","iso","d","Date","toLocaleDateString","year","month","day","SiteHeader","_ref","query","setQuery","onSearch","className","children","viewBox","href","Hero","_ref2","slides","img","index","setIndex","t","setInterval","i","length","clearInterval","current","src","alt","title","subtitle","onSubmit","e","preventDefault","placeholder","value","onChange","target","type","map","_","Card","_ref3","onOpen","desc","thumb","loading","onClick","Footer","App","items","setItems","setLoading","err","setErr","load","Error","Array","isArray","message","filtered","trim","q","toLowerCase","filter","it","openPDF","_item$oPrimary_media","mediaId","media","window","open","alert","slice"],"sources":["C:/Users/Asus/Desktop/readbook-master2/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\n\r\n/** ====== ENV & URL helpers ====== */\r\nconst RAW_BASE =\r\n  process.env.REACT_APP_API_BASE_URL ||\r\n  \"\";\r\nconst BASE_URL = RAW_BASE.replace(/\\/+$/, \"\");\r\n\r\nconst withKeys = (url) => {\r\n  const key_identity = process.env.REACT_APP_API_KEY_IDENTITY;\r\n  const key_credential = process.env.REACT_APP_API_KEY_CREDENTIAL;\r\n  const sep = url.includes(\"?\") ? \"&\" : \"?\";\r\n  return `${url}${sep}key_identity=${key_identity}&key_credential=${key_credential}`;\r\n};\r\nconst api = (path) =>\r\n  withKeys(`${BASE_URL}${path.startsWith(\"/\") ? path : `/${path}`}`);\r\n\r\nconst fetchJsonWithProxies = async (finalUrl) => {\r\n  try {\r\n    const viaAllorigins = `https://api.allorigins.win/get?url=${encodeURIComponent(\r\n      finalUrl\r\n    )}`;\r\n    const r1 = await axios.get(viaAllorigins, { timeout: 15000 });\r\n    return JSON.parse(r1.data.contents);\r\n  } catch {}\r\n  try {\r\n    const viaCodetabs = `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(\r\n      finalUrl\r\n    )}`;\r\n    const r2 = await axios.get(viaCodetabs, { timeout: 15000 });\r\n    return r2.data;\r\n  } catch {}\r\n  const r3 = await axios.get(finalUrl, { timeout: 15000 });\r\n  return r3.data;\r\n};\r\n\r\n/** ====== Small helpers ====== */\r\nconst titleOf = (item) =>\r\n  item[\"o:title\"] || item[\"dcterms:title\"]?.[0]?.[\"@value\"] || \"ไม่มีชื่อเอกสาร\";\r\n\r\nconst descOf = (item) =>\r\n  item[\"dcterms:abstract\"]?.[0]?.[\"@value\"] ||\r\n  item[\"dcterms:description\"]?.[0]?.[\"@value\"] ||\r\n  \"\";\r\n\r\nconst thumbOf = (item) =>\r\n  item?.thumbnail_display_urls?.large ||\r\n  item?.thumbnail_display_urls?.medium ||\r\n  item?.thumbnail_display_urls?.square ||\r\n  null;\r\n\r\nconst createdOf = (item) => {\r\n  const iso = item?.[\"o:created\"]?.[\"@value\"];\r\n  if (!iso) return \"-\";\r\n  const d = new Date(iso);\r\n  return d.toLocaleDateString(\"th-TH\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n};\r\n\r\n/** ====== UI Components (Tailwind) ====== */\r\nfunction SiteHeader({ query, setQuery, onSearch }) {\r\n  return (\r\n    <header className=\"flex items-center justify-between border-b border-[#f0f3f4] dark:border-gray-800 px-4 sm:px-10 lg:px-40 py-3 bg-white dark:bg-background-dark\">\r\n      <div className=\"flex items-center gap-4 text-[#111518] dark:text-white\">\r\n        <div className=\"size-6 text-primary\">\r\n          <svg className=\"fill-current\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\" />\r\n          </svg>\r\n        </div>\r\n        <h2 className=\"text-xl font-bold font-display leading-tight tracking-[-0.015em]\">\r\n          The Culture Read @CNX\r\n        </h2>\r\n      </div>\r\n\r\n      <div className=\"hidden md:flex flex-1 justify-end gap-8\">\r\n        <nav className=\"flex items-center gap-9\">\r\n          <a className=\"navlink\" href=\"#\">หน้าหลัก</a>\r\n          <a className=\"navlink\" href=\"#\">หนังสือ</a>\r\n          <a className=\"navlink\" href=\"#\">บทความ</a>\r\n          <a className=\"navlink\" href=\"#\">กิจกรรม</a>\r\n          <a className=\"navlink\" href=\"#\">ความเป็นมา</a>\r\n        </nav>\r\n\r\n      </div>\r\n\r\n      <button className=\"md:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700\">\r\n        <span className=\"material-symbols-outlined text-[#111518] dark:text-white\">\r\n          menu\r\n        </span>\r\n      </button>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction Hero({ query, setQuery, onSearch }) {\r\n  // 1) รายการสไลด์ (ใส่ลิงก์รูปจริงของคุณ)\r\n const slides = [\r\n  { img: \"/assets/hero.jpg\",  },\r\n  { img: \"/assets/hero2.jpeg\",  },\r\n  { img: \"/assets/hero3.jpg\", },\r\n];\r\n\r\n\r\n  const [index, setIndex] = useState(0);\r\n\r\n  // 2) เปลี่ยนสไลด์อัตโนมัติทุก 5 วิ\r\n  useEffect(() => {\r\n    const t = setInterval(() => {\r\n      setIndex((i) => (i + 1) % slides.length);\r\n    }, 5000);\r\n    return () => clearInterval(t);\r\n  }, [slides.length]);\r\n\r\n  const current = slides[index];\r\n\r\n  return (\r\n    // 3) ทำให้ hero เต็มกว้าง สูงตามที่กำหนด\r\n    <section className=\"relative w-full h-[520px] md:h-[620px] overflow-hidden\">\r\n      {/* รูปพื้นหลังเต็มกว้าง */}\r\n      <img\r\n        src={current.img}\r\n        alt={current.title}\r\n        className=\"absolute inset-0 w-full h-full object-cover\"\r\n      />\r\n\r\n      {/* เลเยอร์ไล่เฉดมืดเพื่อให้อ่านตัวอักษรง่าย */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent\" />\r\n\r\n      {/* 4) กล่องข้อความแบบมีพื้นหลังโปร่งแสง + เบลอเล็กน้อย (อ่านสบายตา) */}\r\n      <div className=\"relative z-10 h-full flex items-center justify-center px-4\">\r\n        <div className=\"max-w-4xl w-full text-center rounded-2xl shadow-lg p-6 md:p-10\">\r\n          <h1 className=\"text-3xl md:text-5xl font-extrabold text-gray-900 dark:text-white leading-snug\">\r\n            {current.title}\r\n          </h1>\r\n          <p className=\"mt-3 text-base md:text-xl text-gray-800 dark:text-gray-200\">\r\n            {current.subtitle}\r\n          </p>\r\n\r\n          {/* ช่องค้นหา */}\r\n          <form\r\n            className=\"mt-6 flex w-full max-w-xl mx-auto\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              onSearch?.();\r\n            }}\r\n          >\r\n            <input\r\n              className=\"flex-1 h-12 md:h-14 px-4 rounded-l-lg border border-gray-300 focus:outline-none\"\r\n              placeholder=\"ค้นหาหนังสือ บทความ หรือคอลเลกชัน...\"\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              aria-label=\"ค้นหา\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-5 rounded-r-lg bg-accent text-white font-bold\"\r\n            >\r\n              Search\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* จุดบอกสถานะสไลด์ */}\r\n        <div className=\"absolute bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 flex gap-2\">\r\n          {slides.map((_, i) => (\r\n            <span\r\n              key={i}\r\n              className={`w-3 h-3 rounded-full transition-all ${\r\n                i === index ? \"bg-accent scale-110\" : \"bg-white/60\"\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n\r\nfunction Card({ item, onOpen }) {\r\n  const title = titleOf(item);\r\n  const desc = descOf(item);\r\n  const thumb = thumbOf(item);\r\n\r\n  return (\r\n    <article className=\"flex flex-col h-full bg-white dark:bg-gray-900 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-lg transition-shadow duration-300\">\r\n\r\n      <div className=\"w-full bg-gray-100\">\r\n  <div className=\"relative w-full aspect-[3/4] flex items-center justify-center\">\r\n    {thumb ? (\r\n      <img\r\n        src={thumb}\r\n        alt={title}\r\n        className=\"w-full h-full object-contain\"\r\n        loading=\"lazy\"\r\n      />\r\n    ) : (\r\n      <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-100\" />\r\n    )}\r\n  </div>\r\n</div>\r\n\r\n      <div className=\"flex flex-col gap-2 p-4 grow\">\r\n  <p className=\"text-primary text-sm font-bold\">ข้อความ</p>\r\n  <h3 className=\"text-[#111518] dark:text-white text-base font-medium font-display leading-snug line-clamp-2\">\r\n    {title}\r\n  </h3>\r\n  <span className=\"text-xs text-gray-500\">\r\n    วันที่สร้าง: {createdOf(item)}\r\n  </span>\r\n\r\n  <div className=\"mt-auto pt-2\">\r\n    <button\r\n      onClick={() => onOpen(item)}\r\n      className=\"bg-primary text-white text-sm font-bold px-4 py-2 rounded-lg\"\r\n    >\r\n      เปิดอ่าน PDF\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n    </article>\r\n  );\r\n}\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 px-4 sm:px-10 lg:px-40 py-8\">\r\n      <div className=\"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n        <div className=\"flex flex-col gap-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"size-6 text-primary\">\r\n              <svg className=\"fill-current\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-[#111518] dark:text-white text-lg font-bold font-display\">\r\n              The Culture Read @CNX\r\n            </h3>\r\n          </div>\r\n          <p className=\"text-[#637c88] dark:text-gray-400 text-sm\">\r\n            © 2025 The Culture Read @CNX. All rights reserved.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-3\">\r\n          <h4 className=\"footer-title\">หัวข้อ 1</h4>\r\n          <a className=\"footer-link\" href=\"#\">1.1</a>\r\n          <a className=\"footer-link\" href=\"#\">1.2</a>\r\n          <a className=\"footer-link\" href=\"#\">1.3</a>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-3\">\r\n          <h4 className=\"footer-title\">หัวข้อ 2</h4>\r\n          <a className=\"footer-link\" href=\"#\">2.1</a>\r\n          <a className=\"footer-link\" href=\"#\">2.2</a>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-3\">\r\n          <h4 className=\"footer-title\">Developers</h4>\r\n          <a className=\"footer-link flex items-center gap-2\" href=\"#\">\r\n            <span>API Status</span>\r\n            <span className=\"w-2.5 h-2.5 bg-green-500 rounded-full\" />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\n/** ====== App ====== */\r\nexport default function App() {\r\n  const [items, setItems] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const load = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (\r\n        !process.env.REACT_APP_API_KEY_IDENTITY ||\r\n        !process.env.REACT_APP_API_KEY_CREDENTIAL\r\n      ) {\r\n        throw new Error(\"API keys not found. Please check your .env file.\");\r\n      }\r\n      // ถ้าจะใช้ fulltext จริง ๆ ให้เปลี่ยนเป็น api(`/items?fulltext_search=${encodeURIComponent(query)}`)\r\n      const data = await fetchJsonWithProxies(api(\"/items\"));\r\n      setItems(Array.isArray(data) ? data : []);\r\n      setErr(\"\");\r\n    } catch (e) {\r\n      setErr(e?.message || \"โหลดข้อมูลไม่สำเร็จ\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filtered = useMemo(() => {\r\n    if (!query.trim()) return items;\r\n    const q = query.toLowerCase();\r\n    return items.filter((it) => {\r\n      const t = titleOf(it).toLowerCase();\r\n      const d = descOf(it).toLowerCase();\r\n      return t.includes(q) || d.includes(q);\r\n    });\r\n  }, [items, query]);\r\n\r\n  const openPDF = async (item) => {\r\n    try {\r\n      const mediaId = item?.[\"o:primary_media\"]?.[\"o:id\"];\r\n      if (!mediaId) throw new Error(\"ไม่พบไฟล์หลักของรายการนี้\");\r\n      const media = await fetchJsonWithProxies(api(`/media/${mediaId}`));\r\n      const url = media?.[\"o:original_url\"];\r\n      if (!url) throw new Error(\"ไม่พบ URL ของไฟล์ PDF\");\r\n      window.open(url, \"_blank\");\r\n    } catch (e) {\r\n      alert(e?.message || \"เปิดไฟล์ไม่สำเร็จ\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background-light dark:bg-background-dark text-[#111518] dark:text-white\">\r\n      <SiteHeader query={query} setQuery={setQuery} onSearch={() => {}} />\r\n      <main className=\"flex-1\">\r\n        <Hero query={query} setQuery={setQuery} onSearch={() => {}} />\r\n\r\n        <section className=\"px-4 sm:px-10 lg:px-40\">\r\n          <h2 className=\"section-title\">อยู่ในช่วงพัฒนา</h2>\r\n\r\n          {loading ? (\r\n            <div className=\"state\">กำลังโหลด…</div>\r\n          ) : err ? (\r\n            <div className=\"state text-red-500\">เกิดข้อผิดพลาด: {err}</div>\r\n          ) : filtered.length === 0 ? (\r\n            <div className=\"state\">ไม่พบรายการ</div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] items-stretch gap-6 p-4\">\r\n              {filtered.slice(0, 12).map((item) => (\r\n                <Card key={item[\"o:id\"]} item={item} onOpen={openPDF} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* หมายเหตุ: Sections \"Our Collections\" / \"Recent Articles\" สามารถเชื่อม Omeka S ได้ในขั้นต่อไป */}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}