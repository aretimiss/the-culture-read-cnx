{"ast":null,"code":"// src/lib/textOf.js\nimport i18n from \"../i18n\";\nimport { pickLang } from \"./i18nPick\";\n\n/** Helper: ดึงค่าจากฟิลด์แบบมีภาษาหรือไม่มีก็ได้ */\nfunction valOf(it, key) {\n  var _it$key$;\n  if (!it) return \"\";\n  const val = pickLang(it[key], i18n.language);\n  if (val) return val;\n\n  // fallback: เอาค่าช่องแรกถ้ามี\n  if (Array.isArray(it[key]) && (_it$key$ = it[key][0]) !== null && _it$key$ !== void 0 && _it$key$[\"@value\"]) return it[key][0][\"@value\"];\n  return \"\";\n}\n\n/** Helper: ถ้าไม่มี dcterms:title ใช้ o:title แทน */\nexport const titleOf = it => valOf(it, \"dcterms:title\") || (it === null || it === void 0 ? void 0 : it[\"o:title\"]) || \"\";\n\n/** Description / คำอธิบาย */\nexport const descOf = it => valOf(it, \"dcterms:description\");\n\n/** Subject / หัวเรื่อง */\nexport const subjectOf = it => valOf(it, \"dcterms:subject\");\n\n/** Creator / ผู้สร้าง */\nexport const creatorOf = it => valOf(it, \"dcterms:creator\");\n\n/** Contributor / ผู้ร่วมสร้าง */\nexport const contributorOf = it => valOf(it, \"dcterms:contributor\");\n\n/** Publisher / สำนักพิมพ์ */\nexport const publisherOf = it => valOf(it, \"dcterms:publisher\");\n\n/** Date / ปีที่พิมพ์ */\nexport const dateOf = it => valOf(it, \"dcterms:date\");\n\n/** Type / ประเภทสื่อ */\nexport const typeOf = it => valOf(it, \"dcterms:type\");\n\n/** Extent / ความยาว เช่น 34 หน้า */\nexport const extentOf = it => valOf(it, \"dcterms:extent\");\n\n/** Rights / สิทธิ์การใช้งาน */\nexport const rightsOf = it => valOf(it, \"dcterms:rights\");\n\n/** Identifier / เลขที่เอกสารหรือ URL */\nexport const identifierOf = it => valOf(it, \"dcterms:identifier\");\n\n/** Format / รูปแบบไฟล์ (PDF, JPG, ฯลฯ) */\nexport const formatOf = it => valOf(it, \"dcterms:format\");\n\n/** Alternative title */\nexport const altTitleOf = it => valOf(it, \"dcterms:alternative\");\n\n/** Language code (เช่น th, en, lo, zh) */\nexport const languageOf = it => {\n  var _it$dctermsLanguage, _it$dctermsLanguage$;\n  return valOf(it, \"dcterms:language\") || (it === null || it === void 0 ? void 0 : (_it$dctermsLanguage = it[\"dcterms:language\"]) === null || _it$dctermsLanguage === void 0 ? void 0 : (_it$dctermsLanguage$ = _it$dctermsLanguage[0]) === null || _it$dctermsLanguage$ === void 0 ? void 0 : _it$dctermsLanguage$[\"@value\"]) || \"\";\n};\n\n/** Thumbnail (มี fallback ครบทุกขนาด) */\nexport const thumbOf = it => {\n  var _it$thumbnail_display, _it$thumbnail_display2, _it$thumbnail_display3;\n  return (it === null || it === void 0 ? void 0 : (_it$thumbnail_display = it.thumbnail_display_urls) === null || _it$thumbnail_display === void 0 ? void 0 : _it$thumbnail_display.large) || (it === null || it === void 0 ? void 0 : (_it$thumbnail_display2 = it.thumbnail_display_urls) === null || _it$thumbnail_display2 === void 0 ? void 0 : _it$thumbnail_display2.medium) || (it === null || it === void 0 ? void 0 : (_it$thumbnail_display3 = it.thumbnail_display_urls) === null || _it$thumbnail_display3 === void 0 ? void 0 : _it$thumbnail_display3.square) || \"/assets/placeholder.webp\";\n};\n\n/** รวมค่าทุกฟิลด์เป็น object (ใช้ใน BookDetail, BookCard ฯลฯ ได้เลย) */\nexport function metaOf(it) {\n  return {\n    id: it === null || it === void 0 ? void 0 : it[\"o:id\"],\n    title: titleOf(it),\n    altTitle: altTitleOf(it),\n    desc: descOf(it),\n    subject: subjectOf(it),\n    creator: creatorOf(it),\n    contributor: contributorOf(it),\n    publisher: publisherOf(it),\n    date: dateOf(it),\n    type: typeOf(it),\n    extent: extentOf(it),\n    rights: rightsOf(it),\n    identifier: identifierOf(it),\n    format: formatOf(it),\n    language: languageOf(it),\n    thumb: thumbOf(it)\n  };\n}","map":{"version":3,"names":["i18n","pickLang","valOf","it","key","_it$key$","val","language","Array","isArray","titleOf","descOf","subjectOf","creatorOf","contributorOf","publisherOf","dateOf","typeOf","extentOf","rightsOf","identifierOf","formatOf","altTitleOf","languageOf","_it$dctermsLanguage","_it$dctermsLanguage$","thumbOf","_it$thumbnail_display","_it$thumbnail_display2","_it$thumbnail_display3","thumbnail_display_urls","large","medium","square","metaOf","id","title","altTitle","desc","subject","creator","contributor","publisher","date","type","extent","rights","identifier","format","thumb"],"sources":["C:/Users/user/Documents/GitHub/the-culture-read-cnx/src/lib/textOf.js"],"sourcesContent":["// src/lib/textOf.js\r\nimport i18n from \"../i18n\";\r\nimport { pickLang } from \"./i18nPick\";\r\n\r\n/** Helper: ดึงค่าจากฟิลด์แบบมีภาษาหรือไม่มีก็ได้ */\r\nfunction valOf(it, key) {\r\n  if (!it) return \"\";\r\n  const val = pickLang(it[key], i18n.language);\r\n  if (val) return val;\r\n\r\n  // fallback: เอาค่าช่องแรกถ้ามี\r\n  if (Array.isArray(it[key]) && it[key][0]?.[\"@value\"]) return it[key][0][\"@value\"];\r\n  return \"\";\r\n}\r\n\r\n/** Helper: ถ้าไม่มี dcterms:title ใช้ o:title แทน */\r\nexport const titleOf = (it) =>\r\n  valOf(it, \"dcterms:title\") || it?.[\"o:title\"] || \"\";\r\n\r\n/** Description / คำอธิบาย */\r\nexport const descOf = (it) => valOf(it, \"dcterms:description\");\r\n\r\n/** Subject / หัวเรื่อง */\r\nexport const subjectOf = (it) => valOf(it, \"dcterms:subject\");\r\n\r\n/** Creator / ผู้สร้าง */\r\nexport const creatorOf = (it) => valOf(it, \"dcterms:creator\");\r\n\r\n/** Contributor / ผู้ร่วมสร้าง */\r\nexport const contributorOf = (it) => valOf(it, \"dcterms:contributor\");\r\n\r\n/** Publisher / สำนักพิมพ์ */\r\nexport const publisherOf = (it) => valOf(it, \"dcterms:publisher\");\r\n\r\n/** Date / ปีที่พิมพ์ */\r\nexport const dateOf = (it) => valOf(it, \"dcterms:date\");\r\n\r\n/** Type / ประเภทสื่อ */\r\nexport const typeOf = (it) => valOf(it, \"dcterms:type\");\r\n\r\n/** Extent / ความยาว เช่น 34 หน้า */\r\nexport const extentOf = (it) => valOf(it, \"dcterms:extent\");\r\n\r\n/** Rights / สิทธิ์การใช้งาน */\r\nexport const rightsOf = (it) => valOf(it, \"dcterms:rights\");\r\n\r\n/** Identifier / เลขที่เอกสารหรือ URL */\r\nexport const identifierOf = (it) => valOf(it, \"dcterms:identifier\");\r\n\r\n/** Format / รูปแบบไฟล์ (PDF, JPG, ฯลฯ) */\r\nexport const formatOf = (it) => valOf(it, \"dcterms:format\");\r\n\r\n/** Alternative title */\r\nexport const altTitleOf = (it) => valOf(it, \"dcterms:alternative\");\r\n\r\n/** Language code (เช่น th, en, lo, zh) */\r\nexport const languageOf = (it) =>\r\n  valOf(it, \"dcterms:language\") || it?.[\"dcterms:language\"]?.[0]?.[\"@value\"] || \"\";\r\n\r\n/** Thumbnail (มี fallback ครบทุกขนาด) */\r\nexport const thumbOf = (it) =>\r\n  it?.thumbnail_display_urls?.large ||\r\n  it?.thumbnail_display_urls?.medium ||\r\n  it?.thumbnail_display_urls?.square ||\r\n  \"/assets/placeholder.webp\";\r\n\r\n/** รวมค่าทุกฟิลด์เป็น object (ใช้ใน BookDetail, BookCard ฯลฯ ได้เลย) */\r\nexport function metaOf(it) {\r\n  return {\r\n    id: it?.[\"o:id\"],\r\n    title: titleOf(it),\r\n    altTitle: altTitleOf(it),\r\n    desc: descOf(it),\r\n    subject: subjectOf(it),\r\n    creator: creatorOf(it),\r\n    contributor: contributorOf(it),\r\n    publisher: publisherOf(it),\r\n    date: dateOf(it),\r\n    type: typeOf(it),\r\n    extent: extentOf(it),\r\n    rights: rightsOf(it),\r\n    identifier: identifierOf(it),\r\n    format: formatOf(it),\r\n    language: languageOf(it),\r\n    thumb: thumbOf(it),\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}