{"ast":null,"code":"import React,{useEffect,useMemo,useState}from\"react\";import axios from\"axios\";import SiteHeader from\"../components/SiteHeader\";import Footer from\"../components/Footer\";import BackToTop from\"../components/BackToTop\";import BookCard from\"../components/BookCard\";import PdfOverlay from\"../components/PdfOverlay\";/** ====== ENV & URL helpers ====== */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RAW_BASE=process.env.REACT_APP_API_BASE_URL||\"\";const BASE_URL=RAW_BASE.replace(/\\/+$/,\"\");const withKeys=url=>{const key_identity=process.env.REACT_APP_API_KEY_IDENTITY;const key_credential=process.env.REACT_APP_API_KEY_CREDENTIAL;const sep=url.includes(\"?\")?\"&\":\"?\";return\"\".concat(url).concat(sep,\"key_identity=\").concat(key_identity,\"&key_credential=\").concat(key_credential);};const api=path=>withKeys(\"\".concat(BASE_URL).concat(path.startsWith(\"/\")?path:\"/\".concat(path)));const fetchJsonWithProxies=async finalUrl=>{try{const viaAllorigins=\"https://api.allorigins.win/get?url=\".concat(encodeURIComponent(finalUrl));const r1=await axios.get(viaAllorigins,{timeout:15000});return JSON.parse(r1.data.contents);}catch(_unused){}try{const viaCodetabs=\"https://api.codetabs.com/v1/proxy?quest=\".concat(encodeURIComponent(finalUrl));const r2=await axios.get(viaCodetabs,{timeout:15000});return r2.data;}catch(_unused2){}const r3=await axios.get(finalUrl,{timeout:15000});return r3.data;};/** ====== helpers for card text ====== */const titleOf=item=>{var _item$dctermsTitle,_item$dctermsTitle$;return item[\"o:title\"]||((_item$dctermsTitle=item[\"dcterms:title\"])===null||_item$dctermsTitle===void 0?void 0:(_item$dctermsTitle$=_item$dctermsTitle[0])===null||_item$dctermsTitle$===void 0?void 0:_item$dctermsTitle$[\"@value\"])||\"ไม่มีชื่อเอกสาร\";};const descOf=item=>{var _item$dctermsAbstrac,_item$dctermsAbstrac$,_item$dctermsDescrip,_item$dctermsDescrip$;return((_item$dctermsAbstrac=item[\"dcterms:abstract\"])===null||_item$dctermsAbstrac===void 0?void 0:(_item$dctermsAbstrac$=_item$dctermsAbstrac[0])===null||_item$dctermsAbstrac$===void 0?void 0:_item$dctermsAbstrac$[\"@value\"])||((_item$dctermsDescrip=item[\"dcterms:description\"])===null||_item$dctermsDescrip===void 0?void 0:(_item$dctermsDescrip$=_item$dctermsDescrip[0])===null||_item$dctermsDescrip$===void 0?void 0:_item$dctermsDescrip$[\"@value\"])||\"\";};const createdOf=item=>{var _item$oCreated;const iso=item===null||item===void 0?void 0:(_item$oCreated=item[\"o:created\"])===null||_item$oCreated===void 0?void 0:_item$oCreated[\"@value\"];if(!iso)return\"-\";const d=new Date(iso);return d.toLocaleDateString(\"th-TH\",{year:\"numeric\",month:\"long\",day:\"numeric\"});};/** ====== FilterSection & Pagination (เหมือนเดิม) ====== */// ... (คุณจะคงของเดิมไว้ได้เลย — ไม่ต้องแก้)\n/** ====== หน้า BooksPage (เฉพาะส่วนที่ต่าง: เปิด overlay) ====== */export default function BooksPage(){const[items,setItems]=useState([]);const[loading,setLoading]=useState(true);const[err,setErr]=useState(\"\");const[query,setQuery]=useState(\"\");const[page,setPage]=useState(1);const perPage=9;// สถานะ Overlay\nconst[readerId,setReaderId]=useState(null);// เก็บ id ที่จะส่งเข้า PdfOverlay\nuseEffect(()=>{(async()=>{try{setLoading(true);const data=await fetchJsonWithProxies(api(\"/items\"));setItems(Array.isArray(data)?data:[]);setErr(\"\");}catch(e){setErr((e===null||e===void 0?void 0:e.message)||\"โหลดข้อมูลไม่สำเร็จ\");}finally{setLoading(false);}})();},[]);// ค้นหาแบบง่าย (คุณจะใส่ facets ต่อได้เหมือนเดิม)\nconst filtered=useMemo(()=>{const q=query.trim().toLowerCase();return items.filter(it=>{const t=titleOf(it).toLowerCase();const d=descOf(it).toLowerCase();return!q||t.includes(q)||d.includes(q);});},[items,query]);const total=filtered.length;const start=(page-1)*perPage;const paged=filtered.slice(start,start+perPage);// เปิด overlay: เลือกส่ง id แบบไหนดี\nconst openReader=item=>{var _item$oPrimary_media,_item$oMedia,_item$oMedia$;// 1) แนะนำส่ง media id (ถ้ามี)\nconst mediaId=(item===null||item===void 0?void 0:(_item$oPrimary_media=item[\"o:primary_media\"])===null||_item$oPrimary_media===void 0?void 0:_item$oPrimary_media[\"o:id\"])||(item===null||item===void 0?void 0:(_item$oMedia=item[\"o:media\"])===null||_item$oMedia===void 0?void 0:(_item$oMedia$=_item$oMedia[0])===null||_item$oMedia$===void 0?void 0:_item$oMedia$[\"o:id\"]);// 2) ถ้าไม่มีเลย ส่ง item id\nconst id=mediaId||(item===null||item===void 0?void 0:item[\"o:id\"]);if(!id)return alert(\"ไม่พบไฟล์ของรายการนี้\");setReaderId(String(id));// เปิด overlay\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#fbf6ed] text-[#5b4a3e]\",children:[/*#__PURE__*/_jsx(SiteHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[88px]\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"relative w-full h-[360px] md:h-[420px] overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/assets/hero-books.jpg\",alt:\"banner\",className:\"absolute inset-0 w-full h-full object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 h-full flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"flex w-[90%] max-w-2xl\",onSubmit:e=>{e.preventDefault();setPage(1);},children:[/*#__PURE__*/_jsx(\"input\",{value:query,onChange:e=>setQuery(e.target.value),className:\"flex-1 h-12 md:h-14 px-4 rounded-l-full bg-white/95 focus:outline-none\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E40\\u0E2D\\u0E01\\u0E2A\\u0E32\\u0E23\\u0E15\\u0E31\\u0E27\\u0E40\\u0E02\\u0E35\\u0E22\\u0E19\\u2026\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-5 md:px-6 rounded-r-full bg-[#f08a24] text-white font-bold\",children:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-8 mt-6\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"py-20 text-center\",children:\"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u2026\"}):err?/*#__PURE__*/_jsxs(\"div\",{className:\"py-20 text-center text-red-600\",children:[\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14: \",err]}):paged.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"py-20 text-center\",children:\"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E17\\u0E35\\u0E48\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E1A\\u0E40\\u0E07\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E44\\u0E02\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6\",children:paged.map(it=>/*#__PURE__*/_jsx(BookCard,{item:it,onOpen:openReader},it[\"o:id\"]))})})}),readerId&&/*#__PURE__*/_jsx(PdfOverlay,{id:readerId,onClose:()=>setReaderId(null)}),/*#__PURE__*/_jsx(BackToTop,{}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","SiteHeader","Footer","BackToTop","BookCard","PdfOverlay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RAW_BASE","process","env","REACT_APP_API_BASE_URL","BASE_URL","replace","withKeys","url","key_identity","REACT_APP_API_KEY_IDENTITY","key_credential","REACT_APP_API_KEY_CREDENTIAL","sep","includes","concat","api","path","startsWith","fetchJsonWithProxies","finalUrl","viaAllorigins","encodeURIComponent","r1","get","timeout","JSON","parse","data","contents","_unused","viaCodetabs","r2","_unused2","r3","titleOf","item","_item$dctermsTitle","_item$dctermsTitle$","descOf","_item$dctermsAbstrac","_item$dctermsAbstrac$","_item$dctermsDescrip","_item$dctermsDescrip$","createdOf","_item$oCreated","iso","d","Date","toLocaleDateString","year","month","day","BooksPage","items","setItems","loading","setLoading","err","setErr","query","setQuery","page","setPage","perPage","readerId","setReaderId","Array","isArray","e","message","filtered","q","trim","toLowerCase","filter","it","t","total","length","start","paged","slice","openReader","_item$oPrimary_media","_item$oMedia","_item$oMedia$","mediaId","id","alert","String","className","children","src","alt","onSubmit","preventDefault","value","onChange","target","placeholder","type","map","onOpen","onClose"],"sources":["C:/Users/Asus/Desktop/the-culture-read-cnx/src/pages/BooksPage.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport SiteHeader from \"../components/SiteHeader\";\r\nimport Footer from \"../components/Footer\";\r\nimport BackToTop from \"../components/BackToTop\";\r\nimport BookCard from \"../components/BookCard\";\r\nimport PdfOverlay from \"../components/PdfOverlay\";\r\n\r\n/** ====== ENV & URL helpers ====== */\r\nconst RAW_BASE = process.env.REACT_APP_API_BASE_URL || \"\";\r\nconst BASE_URL = RAW_BASE.replace(/\\/+$/, \"\");\r\nconst withKeys = (url) => {\r\n  const key_identity = process.env.REACT_APP_API_KEY_IDENTITY;\r\n  const key_credential = process.env.REACT_APP_API_KEY_CREDENTIAL;\r\n  const sep = url.includes(\"?\") ? \"&\" : \"?\";\r\n  return `${url}${sep}key_identity=${key_identity}&key_credential=${key_credential}`;\r\n};\r\nconst api = (path) =>\r\n  withKeys(`${BASE_URL}${path.startsWith(\"/\") ? path : `/${path}`}`);\r\n\r\nconst fetchJsonWithProxies = async (finalUrl) => {\r\n  try {\r\n    const viaAllorigins = `https://api.allorigins.win/get?url=${encodeURIComponent(finalUrl)}`;\r\n    const r1 = await axios.get(viaAllorigins, { timeout: 15000 });\r\n    return JSON.parse(r1.data.contents);\r\n  } catch {}\r\n  try {\r\n    const viaCodetabs = `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(finalUrl)}`;\r\n    const r2 = await axios.get(viaCodetabs, { timeout: 15000 });\r\n    return r2.data;\r\n  } catch {}\r\n  const r3 = await axios.get(finalUrl, { timeout: 15000 });\r\n  return r3.data;\r\n};\r\n\r\n/** ====== helpers for card text ====== */\r\nconst titleOf = (item) =>\r\n  item[\"o:title\"] || item[\"dcterms:title\"]?.[0]?.[\"@value\"] || \"ไม่มีชื่อเอกสาร\";\r\nconst descOf = (item) =>\r\n  item[\"dcterms:abstract\"]?.[0]?.[\"@value\"] ||\r\n  item[\"dcterms:description\"]?.[0]?.[\"@value\"] ||\r\n  \"\";\r\nconst createdOf = (item) => {\r\n  const iso = item?.[\"o:created\"]?.[\"@value\"];\r\n  if (!iso) return \"-\";\r\n  const d = new Date(iso);\r\n  return d.toLocaleDateString(\"th-TH\", { year: \"numeric\", month: \"long\", day: \"numeric\" });\r\n};\r\n\r\n/** ====== FilterSection & Pagination (เหมือนเดิม) ====== */\r\n// ... (คุณจะคงของเดิมไว้ได้เลย — ไม่ต้องแก้)\r\n\r\n/** ====== หน้า BooksPage (เฉพาะส่วนที่ต่าง: เปิด overlay) ====== */\r\nexport default function BooksPage() {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const [page, setPage] = useState(1);\r\n  const perPage = 9;\r\n\r\n  // สถานะ Overlay\r\n  const [readerId, setReaderId] = useState(null);  // เก็บ id ที่จะส่งเข้า PdfOverlay\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchJsonWithProxies(api(\"/items\"));\r\n        setItems(Array.isArray(data) ? data : []);\r\n        setErr(\"\");\r\n      } catch (e) {\r\n        setErr(e?.message || \"โหลดข้อมูลไม่สำเร็จ\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // ค้นหาแบบง่าย (คุณจะใส่ facets ต่อได้เหมือนเดิม)\r\n  const filtered = useMemo(() => {\r\n    const q = query.trim().toLowerCase();\r\n    return items.filter((it) => {\r\n      const t = titleOf(it).toLowerCase();\r\n      const d = descOf(it).toLowerCase();\r\n      return !q || t.includes(q) || d.includes(q);\r\n    });\r\n  }, [items, query]);\r\n\r\n  const total = filtered.length;\r\n  const start = (page - 1) * perPage;\r\n  const paged = filtered.slice(start, start + perPage);\r\n\r\n  // เปิด overlay: เลือกส่ง id แบบไหนดี\r\n  const openReader = (item) => {\r\n    // 1) แนะนำส่ง media id (ถ้ามี)\r\n    const mediaId = item?.[\"o:primary_media\"]?.[\"o:id\"] || item?.[\"o:media\"]?.[0]?.[\"o:id\"];\r\n    // 2) ถ้าไม่มีเลย ส่ง item id\r\n    const id = mediaId || item?.[\"o:id\"];\r\n    if (!id) return alert(\"ไม่พบไฟล์ของรายการนี้\");\r\n    setReaderId(String(id)); // เปิด overlay\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#fbf6ed] text-[#5b4a3e]\">\r\n      <SiteHeader />\r\n      <div className=\"h-[88px]\" />\r\n\r\n      {/* HERO Search */}\r\n      <section className=\"relative w-full h-[360px] md:h-[420px] overflow-hidden\">\r\n        <img src=\"/assets/hero-books.jpg\" alt=\"banner\" className=\"absolute inset-0 w-full h-full object-cover\" />\r\n        <div className=\"absolute inset-0 bg-black/20\" />\r\n        <div className=\"relative z-10 h-full flex items-center justify-center\">\r\n          <form\r\n            className=\"flex w-[90%] max-w-2xl\"\r\n            onSubmit={(e) => { e.preventDefault(); setPage(1); }}\r\n          >\r\n            <input\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              className=\"flex-1 h-12 md:h-14 px-4 rounded-l-full bg-white/95 focus:outline-none\"\r\n              placeholder=\"ค้นหาเอกสารตัวเขียน…\"\r\n            />\r\n            <button type=\"submit\" className=\"px-5 md:px-6 rounded-r-full bg-[#f08a24] text-white font-bold\">\r\n              ค้นหา\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-8 mt-6\">\r\n        {loading ? (\r\n          <div className=\"py-20 text-center\">กำลังโหลด…</div>\r\n        ) : err ? (\r\n          <div className=\"py-20 text-center text-red-600\">เกิดข้อผิดพลาด: {err}</div>\r\n        ) : paged.length === 0 ? (\r\n          <div className=\"py-20 text-center\">ไม่พบรายการที่ตรงกับเงื่อนไข</div>\r\n        ) : (\r\n          <>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n              {paged.map((it) => (\r\n                <BookCard key={it[\"o:id\"]} item={it} onOpen={openReader} />\r\n              ))}\r\n            </div>\r\n            {/* ใส่ Pagination ของคุณตามเดิมได้เลย */}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Overlay (แสดงเมื่อมี readerId) */}\r\n      {readerId && (\r\n        <PdfOverlay id={readerId} onClose={() => setReaderId(null)} />\r\n      )}\r\n\r\n      <BackToTop />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}