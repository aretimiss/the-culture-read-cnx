{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\the-culture-read-cnx\\\\src\\\\pages\\\\BookArticlesPage.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/BookShowcase.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { motion, useScroll, useTransform, useSpring } from \"framer-motion\";\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport BackToTop from \"../components/BackToTop\";\nimport { api, fetchJsonWithProxies, titleOf } from \"../lib/omekaClient\";\n\n/** ปรับโทนสีพื้นหลังตามหมวด/ภาษา (ถ้าอยากคัสตอมเพิ่มก็มาใส่ mapping ได้) */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pickHeroColor = item => {\n  var _item$dctermsLanguag, _item$dctermsLanguag$, _item$dctermsType, _item$dctermsType$;\n  const lang = (item === null || item === void 0 ? void 0 : (_item$dctermsLanguag = item[\"dcterms:language\"]) === null || _item$dctermsLanguag === void 0 ? void 0 : (_item$dctermsLanguag$ = _item$dctermsLanguag[0]) === null || _item$dctermsLanguag$ === void 0 ? void 0 : _item$dctermsLanguag$[\"@value\"]) || \"\";\n  const type = (item === null || item === void 0 ? void 0 : (_item$dctermsType = item[\"dcterms:type\"]) === null || _item$dctermsType === void 0 ? void 0 : (_item$dctermsType$ = _item$dctermsType[0]) === null || _item$dctermsType$ === void 0 ? void 0 : _item$dctermsType$[\"@value\"]) || \"\";\n  const s = `${lang} ${type}`.toLowerCase();\n  if (s.includes(\"th\")) return \"#E96A2B\"; // ส้มแบบ Delassus\n  if (s.includes(\"la\")) return \"#3E6B5B\";\n  if (s.includes(\"en\")) return \"#6C4F3C\";\n  return \"#E96A2B\"; // ค่าเริ่มต้นโทนส้ม\n};\nexport default function BookShowcase() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr(\"\");\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!alive) return;\n        setItem(data);\n        document.title = `${titleOf(data) || (data === null || data === void 0 ? void 0 : data[\"o:title\"])} · Showcase`;\n      } catch (e) {\n        if (!alive) return;\n        setErr((e === null || e === void 0 ? void 0 : e.message) || \"โหลดข้อมูลไม่สำเร็จ\");\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [id]);\n  const meta = useMemo(() => {\n    var _item$dctermsCreator, _item$dctermsCreator$, _item$dctermsDate, _item$dctermsDate$, _item$dctermsDescrip, _item$dctermsDescrip$, _item$thumbnail_displ, _item$thumbnail_displ2;\n    if (!item) return {};\n    return {\n      title: titleOf(item) || (item === null || item === void 0 ? void 0 : item[\"o:title\"]) || \"Untitled\",\n      creator: (item === null || item === void 0 ? void 0 : (_item$dctermsCreator = item[\"dcterms:creator\"]) === null || _item$dctermsCreator === void 0 ? void 0 : (_item$dctermsCreator$ = _item$dctermsCreator[0]) === null || _item$dctermsCreator$ === void 0 ? void 0 : _item$dctermsCreator$[\"@value\"]) || \"\",\n      date: (item === null || item === void 0 ? void 0 : (_item$dctermsDate = item[\"dcterms:date\"]) === null || _item$dctermsDate === void 0 ? void 0 : (_item$dctermsDate$ = _item$dctermsDate[0]) === null || _item$dctermsDate$ === void 0 ? void 0 : _item$dctermsDate$[\"@value\"]) || \"\",\n      desc: ((item === null || item === void 0 ? void 0 : (_item$dctermsDescrip = item[\"dcterms:description\"]) === null || _item$dctermsDescrip === void 0 ? void 0 : (_item$dctermsDescrip$ = _item$dctermsDescrip[0]) === null || _item$dctermsDescrip$ === void 0 ? void 0 : _item$dctermsDescrip$[\"@value\"]) || \"\").trim() || \"ไม่มีคำอธิบาย\",\n      thumb: (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ = item.thumbnail_display_urls) === null || _item$thumbnail_displ === void 0 ? void 0 : _item$thumbnail_displ.large) || (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ2 = item.thumbnail_display_urls) === null || _item$thumbnail_displ2 === void 0 ? void 0 : _item$thumbnail_displ2.medium) || \"/assets/placeholder.webp\",\n      hero: pickHeroColor(item),\n      hasMedia: Array.isArray(item === null || item === void 0 ? void 0 : item[\"o:media\"]) && item[\"o:media\"].length > 0\n    };\n  }, [item]);\n  const primaryReadUrl = useMemo(() => {\n    if (!item) return \"\";\n    const has = Array.isArray(item === null || item === void 0 ? void 0 : item[\"o:media\"]) && item[\"o:media\"].length > 0;\n    return has ? `/read/${item[\"o:id\"]}` : \"\";\n  }, [item]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2] text-[#111518]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-[70vh] flex items-center justify-center text-[#7b6c61]\",\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n  if (err || !item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2] text-[#111518]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-3xl mx-auto px-6 py-20 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-red-700 mb-2\",\n          children: \"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[#7b6c61] mb-6\",\n          children: err || \"ไม่พบรายการ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(-1),\n          className: \"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\",\n          children: \"\\u0E01\\u0E25\\u0E31\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(FullBleedHero, {\n      meta: meta,\n      bookId: item[\"o:id\"],\n      primaryReadUrl: primaryReadUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"bg-[#faf7f2] text-[#111518]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-5xl mx-auto px-6 py-14\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl md:text-2xl font-semibold text-[#5b4a3e] mb-3\",\n          children: \"\\u0E40\\u0E01\\u0E35\\u0E48\\u0E22\\u0E27\\u0E01\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"leading-8 text-[#3f342d] whitespace-pre-wrap\",\n          children: meta.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex gap-3\",\n          children: [primaryReadUrl && /*#__PURE__*/_jsxDEV(Link, {\n            to: primaryReadUrl,\n            className: \"inline-flex items-center px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95 transition\",\n            children: \"\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E40\\u0E25\\u0E22\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/book/${item[\"o:id\"]}`,\n            className: \"inline-flex items-center px-5 py-2.5 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\",\n            children: \"\\u0E44\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E40\\u0E25\\u0E48\\u0E21\\u0E19\\u0E35\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n\n/* ================= HERO เต็มจอแบบ Delassus ================= */\n_s(BookShowcase, \"utDt83zVuNLtQVe2rf2IneI2c2U=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BookShowcase;\nfunction FullBleedHero({\n  meta,\n  bookId,\n  primaryReadUrl\n}) {\n  _s2();\n  const wrapRef = useRef(null);\n  const {\n    scrollYProgress\n  } = useScroll({\n    target: wrapRef,\n    offset: [\"start start\", \"end start\"]\n  });\n\n  // ปกและเงาลอยเคลื่อนเล็กน้อยเมื่อสกรอล์\n  const yCover = useSpring(useTransform(scrollYProgress, [0, 1], [0, -40]), {\n    stiffness: 120,\n    damping: 20\n  });\n  const yShadow = useSpring(useTransform(scrollYProgress, [0, 1], [0, -10]), {\n    stiffness: 120,\n    damping: 22\n  });\n  const scaleCover = useSpring(useTransform(scrollYProgress, [0, 1], [1.02, 1]), {\n    stiffness: 120,\n    damping: 20\n  });\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    ref: wrapRef,\n    className: \"relative min-h-[100svh] overflow-hidden isolate\",\n    style: {\n      backgroundColor: meta.hero\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-x-0 top-0 z-20\",\n      children: /*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pointer-events-none absolute -top-40 -right-40 w-[36rem] h-[36rem] rounded-full opacity-15 blur-3xl\",\n      style: {\n        background: \"radial-gradient(closest-side, #fff 0%, transparent 70%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pointer-events-none absolute -bottom-56 -left-56 w-[44rem] h-[44rem] rounded-full opacity-10 blur-3xl\",\n      style: {\n        background: \"radial-gradient(closest-side, #000 0%, transparent 70%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 pt-28 md:pt-32\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row items-center md:items-end gap-8 md:gap-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(motion.div, {\n              style: {\n                y: yShadow\n              },\n              className: \"absolute left-1/2 -translate-x-1/2 bottom-2 w-[65%] h-8 md:h-10 rounded-full bg-black/30 blur-2xl opacity-40\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              style: {\n                y: yCover,\n                scale: scaleCover\n              },\n              className: \"relative rounded-3xl shadow-2xl ring-1 ring-black/10 overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: meta.thumb,\n                alt: meta.title,\n                className: \"block w-[68vw] max-w-[460px] aspect-[3/4] object-cover\",\n                loading: \"eager\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full md:w-1/2 text-white pb-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-extrabold leading-[0.95]\",\n            style: {\n              fontSize: \"clamp(3rem, 6vw, 6rem)\"\n            },\n            children: meta.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex flex-wrap items-center gap-4 text-white/90\",\n            children: [meta.creator && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-3 py-1 rounded-full bg-white/15 ring-1 ring-white/25\",\n              children: meta.creator\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), meta.date && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-3 py-1 rounded-full bg-white/15 ring-1 ring-white/25\",\n              children: meta.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-9\",\n            children: primaryReadUrl ? /*#__PURE__*/_jsxDEV(Link, {\n              to: primaryReadUrl,\n              className: \"inline-flex items-center gap-2 h-12 px-6 rounded-full bg-[#FFD33F] text-[#4a3a2e] font-semibold shadow-md hover:translate-y-0.5 transition-transform\",\n              children: [\"Discover \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": true,\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: `/book/${bookId}`,\n              className: \"inline-flex items-center gap-2 h-12 px-6 rounded-full bg-white/90 text-[#4a3a2e] font-semibold shadow-md hover:bg-white\",\n              children: [\"View details \", /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": true,\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex gap-6 text-white/80\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              className: \"hover:text-white underline-offset-4 hover:underline\",\n              to: `/book/${bookId}`,\n              children: \"Book detail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"hover:text-white underline-offset-4 hover:underline\",\n              to: \"/books\",\n              children: \"All books\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-x-0 bottom-0 z-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n_s2(FullBleedHero, \"e/ZtW7Lgix6RDrs0E7gfrLz1bDw=\", false, function () {\n  return [useScroll, useSpring, useTransform, useSpring, useTransform, useSpring, useTransform];\n});\n_c2 = FullBleedHero;\nvar _c, _c2;\n$RefreshReg$(_c, \"BookShowcase\");\n$RefreshReg$(_c2, \"FullBleedHero\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Link","useParams","useNavigate","motion","useScroll","useTransform","useSpring","SiteHeader","Footer","BackToTop","api","fetchJsonWithProxies","titleOf","jsxDEV","_jsxDEV","pickHeroColor","item","_item$dctermsLanguag","_item$dctermsLanguag$","_item$dctermsType","_item$dctermsType$","lang","type","s","toLowerCase","includes","BookShowcase","_s","id","navigate","setItem","loading","setLoading","err","setErr","alive","data","document","title","e","message","meta","_item$dctermsCreator","_item$dctermsCreator$","_item$dctermsDate","_item$dctermsDate$","_item$dctermsDescrip","_item$dctermsDescrip$","_item$thumbnail_displ","_item$thumbnail_displ2","creator","date","desc","trim","thumb","thumbnail_display_urls","large","medium","hero","hasMedia","Array","isArray","length","primaryReadUrl","has","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","FullBleedHero","bookId","to","_c","_s2","wrapRef","scrollYProgress","target","offset","yCover","stiffness","damping","yShadow","scaleCover","ref","style","backgroundColor","background","div","y","scale","src","alt","fontSize","_c2","$RefreshReg$"],"sources":["C:/Users/user/Documents/GitHub/the-culture-read-cnx/src/pages/BookArticlesPage.jsx"],"sourcesContent":["// src/pages/BookShowcase.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { motion, useScroll, useTransform, useSpring } from \"framer-motion\";\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport BackToTop from \"../components/BackToTop\";\nimport { api, fetchJsonWithProxies, titleOf } from \"../lib/omekaClient\";\n\n/** ปรับโทนสีพื้นหลังตามหมวด/ภาษา (ถ้าอยากคัสตอมเพิ่มก็มาใส่ mapping ได้) */\nconst pickHeroColor = (item) => {\n  const lang = item?.[\"dcterms:language\"]?.[0]?.[\"@value\"] || \"\";\n  const type = item?.[\"dcterms:type\"]?.[0]?.[\"@value\"] || \"\";\n  const s = `${lang} ${type}`.toLowerCase();\n  if (s.includes(\"th\")) return \"#E96A2B\"; // ส้มแบบ Delassus\n  if (s.includes(\"la\")) return \"#3E6B5B\";\n  if (s.includes(\"en\")) return \"#6C4F3C\";\n  return \"#E96A2B\"; // ค่าเริ่มต้นโทนส้ม\n};\n\nexport default function BookShowcase() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr(\"\");\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!alive) return;\n        setItem(data);\n        document.title = `${titleOf(data) || data?.[\"o:title\"]} · Showcase`;\n      } catch (e) {\n        if (!alive) return;\n        setErr(e?.message || \"โหลดข้อมูลไม่สำเร็จ\");\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [id]);\n\n  const meta = useMemo(() => {\n    if (!item) return {};\n    return {\n      title: titleOf(item) || item?.[\"o:title\"] || \"Untitled\",\n      creator: item?.[\"dcterms:creator\"]?.[0]?.[\"@value\"] || \"\",\n      date: item?.[\"dcterms:date\"]?.[0]?.[\"@value\"] || \"\",\n      desc:\n        (item?.[\"dcterms:description\"]?.[0]?.[\"@value\"] || \"\").trim() ||\n        \"ไม่มีคำอธิบาย\",\n      thumb:\n        item?.thumbnail_display_urls?.large ||\n        item?.thumbnail_display_urls?.medium ||\n        \"/assets/placeholder.webp\",\n      hero: pickHeroColor(item),\n      hasMedia: Array.isArray(item?.[\"o:media\"]) && item[\"o:media\"].length > 0,\n    };\n  }, [item]);\n\n  const primaryReadUrl = useMemo(() => {\n    if (!item) return \"\";\n    const has = Array.isArray(item?.[\"o:media\"]) && item[\"o:media\"].length > 0;\n    return has ? `/read/${item[\"o:id\"]}` : \"\";\n  }, [item]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-[#faf7f2] text-[#111518]\">\n        <SiteHeader />\n        <div className=\"min-h-[70vh] flex items-center justify-center text-[#7b6c61]\">\n          กำลังโหลด…\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (err || !item) {\n    return (\n      <div className=\"min-h-screen bg-[#faf7f2] text-[#111518]\">\n        <SiteHeader />\n        <main className=\"max-w-3xl mx-auto px-6 py-20 text-center\">\n          <h1 className=\"text-2xl font-bold text-red-700 mb-2\">เกิดข้อผิดพลาด</h1>\n          <p className=\"text-[#7b6c61] mb-6\">{err || \"ไม่พบรายการ\"}</p>\n          <button\n            onClick={() => navigate(-1)}\n            className=\"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\"\n          >\n            กลับ\n          </button>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* ฮีโร่แบบเต็มจอ */}\n      <FullBleedHero meta={meta} bookId={item[\"o:id\"]} primaryReadUrl={primaryReadUrl} />\n\n      {/* ส่วนข้อมูลสั้นๆ ต่อท้าย (ถ้าต้องการเลื่อนไปอ่านรายละเอียดเพิ่ม) */}\n      <section className=\"bg-[#faf7f2] text-[#111518]\">\n        <div className=\"max-w-5xl mx-auto px-6 py-14\">\n          <h2 className=\"text-xl md:text-2xl font-semibold text-[#5b4a3e] mb-3\">\n            เกี่ยวกับหนังสือ\n          </h2>\n          <p className=\"leading-8 text-[#3f342d] whitespace-pre-wrap\">{meta.desc}</p>\n          <div className=\"mt-6 flex gap-3\">\n            {primaryReadUrl && (\n              <Link\n                to={primaryReadUrl}\n                className=\"inline-flex items-center px-5 py-2.5 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95 transition\"\n              >\n                อ่านเลย\n              </Link>\n            )}\n            <Link\n              to={`/book/${item[\"o:id\"]}`}\n              className=\"inline-flex items-center px-5 py-2.5 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\"\n            >\n              ไปหน้าเล่มนี้\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      <Footer />\n      <BackToTop />\n    </div>\n  );\n}\n\n/* ================= HERO เต็มจอแบบ Delassus ================= */\nfunction FullBleedHero({ meta, bookId, primaryReadUrl }) {\n  const wrapRef = useRef(null);\n  const { scrollYProgress } = useScroll({\n    target: wrapRef,\n    offset: [\"start start\", \"end start\"],\n  });\n\n  // ปกและเงาลอยเคลื่อนเล็กน้อยเมื่อสกรอล์\n  const yCover = useSpring(useTransform(scrollYProgress, [0, 1], [0, -40]), {\n    stiffness: 120,\n    damping: 20,\n  });\n  const yShadow = useSpring(useTransform(scrollYProgress, [0, 1], [0, -10]), {\n    stiffness: 120,\n    damping: 22,\n  });\n  const scaleCover = useSpring(\n    useTransform(scrollYProgress, [0, 1], [1.02, 1]),\n    { stiffness: 120, damping: 20 }\n  );\n\n  return (\n    <section\n      ref={wrapRef}\n      className=\"relative min-h-[100svh] overflow-hidden isolate\"\n      style={{ backgroundColor: meta.hero }}\n    >\n      {/* Header โปร่ง */}\n      <div className=\"absolute inset-x-0 top-0 z-20\">\n        <SiteHeader />\n      </div>\n\n      {/* ลวดลายพื้นนิด ๆ */}\n      <div\n        className=\"pointer-events-none absolute -top-40 -right-40 w-[36rem] h-[36rem] rounded-full opacity-15 blur-3xl\"\n        style={{ background: \"radial-gradient(closest-side, #fff 0%, transparent 70%)\" }}\n      />\n      <div\n        className=\"pointer-events-none absolute -bottom-56 -left-56 w-[44rem] h-[44rem] rounded-full opacity-10 blur-3xl\"\n        style={{ background: \"radial-gradient(closest-side, #000 0%, transparent 70%)\" }}\n      />\n\n      {/* เนื้อหาหลัก */}\n      <div className=\"relative z-10 max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 pt-28 md:pt-32\">\n        <div className=\"flex flex-col md:flex-row items-center md:items-end gap-8 md:gap-12\">\n          {/* ปกหนังสือ + เงา */}\n          <div className=\"w-full md:w-1/2 flex items-center justify-center\">\n            <div className=\"relative\">\n              <motion.div\n                style={{ y: yShadow }}\n                className=\"absolute left-1/2 -translate-x-1/2 bottom-2 w-[65%] h-8 md:h-10 rounded-full bg-black/30 blur-2xl opacity-40\"\n              />\n              <motion.div\n                style={{ y: yCover, scale: scaleCover }}\n                className=\"relative rounded-3xl shadow-2xl ring-1 ring-black/10 overflow-hidden\"\n              >\n                <img\n                  src={meta.thumb}\n                  alt={meta.title}\n                  className=\"block w-[68vw] max-w-[460px] aspect-[3/4] object-cover\"\n                  loading=\"eager\"\n                />\n              </motion.div>\n            </div>\n          </div>\n\n          {/* ข้อความใหญ่แบบ Delassus */}\n          <div className=\"w-full md:w-1/2 text-white pb-10\">\n            <h1\n              className=\"font-extrabold leading-[0.95]\"\n              style={{ fontSize: \"clamp(3rem, 6vw, 6rem)\" }}\n            >\n              {meta.title}\n            </h1>\n\n            <div className=\"mt-6 flex flex-wrap items-center gap-4 text-white/90\">\n              {meta.creator && (\n                <span className=\"px-3 py-1 rounded-full bg-white/15 ring-1 ring-white/25\">\n                  {meta.creator}\n                </span>\n              )}\n              {meta.date && (\n                <span className=\"px-3 py-1 rounded-full bg-white/15 ring-1 ring-white/25\">\n                  {meta.date}\n                </span>\n              )}\n            </div>\n\n            {/* ปุ่ม Discover */}\n            <div className=\"mt-9\">\n              {primaryReadUrl ? (\n                <Link\n                  to={primaryReadUrl}\n                  className=\"inline-flex items-center gap-2 h-12 px-6 rounded-full bg-[#FFD33F] text-[#4a3a2e] font-semibold shadow-md hover:translate-y-0.5 transition-transform\"\n                >\n                  Discover <span aria-hidden>→</span>\n                </Link>\n              ) : (\n                <Link\n                  to={`/book/${bookId}`}\n                  className=\"inline-flex items-center gap-2 h-12 px-6 rounded-full bg-white/90 text-[#4a3a2e] font-semibold shadow-md hover:bg-white\"\n                >\n                  View details <span aria-hidden>→</span>\n                </Link>\n              )}\n            </div>\n\n            {/* เมนูย่อยสไตล์แท็บ (ตัวอย่าง: ไปหน้าเล่ม, หน้ารวม) */}\n            <div className=\"mt-6 flex gap-6 text-white/80\">\n              <Link className=\"hover:text-white underline-offset-4 hover:underline\" to={`/book/${bookId}`}>Book detail</Link>\n              <Link className=\"hover:text-white underline-offset-4 hover:underline\" to=\"/books\">All books</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ปุ่มเมนูขวาบน (optional เพิ่มเองใน SiteHeader แล้ว) */}\n\n      {/* Footer โปร่ง (วางทับด้านล่างขอบฮีโร่) */}\n      <div className=\"absolute inset-x-0 bottom-0 z-10\">\n        {/* ว่างไว้ให้ฮีโร่สุดขอบ เหมือน Delassus; ส่วนรายละเอียดอยู่ section ถัดไป */}\n      </div>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}