{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\the-culture-read-cnx\\\\src\\\\pages\\\\BookArticleDetail.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/pages/ParallaxBookDetail.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport BackToTop from \"../components/BackToTop\";\nimport { api, fetchJsonWithProxies, titleOf } from \"../lib/omekaClient\";\nimport { motion, useScroll, useTransform, useSpring } from \"framer-motion\";\n\n/** helpers */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getVal = (item, key, fallback = \"-\") => {\n  var _item$key$0$Value, _item$key, _item$key$;\n  return (_item$key$0$Value = item === null || item === void 0 ? void 0 : (_item$key = item[key]) === null || _item$key === void 0 ? void 0 : (_item$key$ = _item$key[0]) === null || _item$key$ === void 0 ? void 0 : _item$key$[\"@value\"]) !== null && _item$key$0$Value !== void 0 ? _item$key$0$Value : fallback;\n};\nconst normalizeHttps = raw => raw ? raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw : \"\";\n\n// ตรวจจับมือถือ (UA + viewport)\nconst useIsMobile = () => {\n  _s();\n  const [isMobile, setIsMobile] = useState(false);\n  useEffect(() => {\n    const uaIsMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\n    const mq = window.matchMedia(\"(max-width: 768px)\");\n    const update = () => setIsMobile(uaIsMobile || mq.matches);\n    update();\n    mq.addEventListener(\"change\", update);\n    return () => mq.removeEventListener(\"change\", update);\n  }, []);\n  return isMobile;\n};\n_s(useIsMobile, \"0VTTNJATKABQPGLm9RVT0tKGUgU=\");\nexport default function ParallaxBookDetail() {\n  _s2();\n  const {\n    id\n  } = useParams();\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  const [shiftRight, setShiftRight] = useState(false);\n  const isMobile = useIsMobile();\n\n  // refs\n  const sentinelRef = useRef(null);\n  const detailRef = useRef(null);\n  const detailCardRef = useRef(null); // วัดความสูงจากการ์ดจริง\n  const descTopRef = useRef(null); // เลื่อนไปคำอธิบาย\n  const [heroDetailH, setHeroDetailH] = useState(null);\n\n  // โหลดข้อมูล\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErr(\"\");\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!alive) return;\n        setItem(data);\n        const t = titleOf(data) || (data === null || data === void 0 ? void 0 : data[\"o:title\"]) || \"รายละเอียดหนังสือ\";\n        document.title = `${t} · Parallax Detail`;\n      } catch (e) {\n        if (!alive) return;\n        setErr((e === null || e === void 0 ? void 0 : e.message) || \"โหลดข้อมูลไม่สำเร็จ\");\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [id]);\n\n  // เมื่อคำอธิบายเริ่มเข้าจอ -> ปกย้ายฝั่ง\n  useEffect(() => {\n    const el = sentinelRef.current;\n    if (!el) return;\n    const io = new IntersectionObserver(entries => setShiftRight(entries[0].isIntersecting), {\n      root: null,\n      threshold: 0.15\n    });\n    io.observe(el);\n    return () => io.disconnect();\n  }, []);\n\n  // วัดความสูงการ์ดขวาแบบเป๊ะ\n  useEffect(() => {\n    const el = detailCardRef.current || detailRef.current;\n    if (!el) return;\n    const measure = () => setHeroDetailH(el.getBoundingClientRect().height);\n    measure();\n    const ro = new ResizeObserver(measure);\n    ro.observe(el);\n    window.addEventListener(\"resize\", measure);\n    return () => {\n      ro.disconnect();\n      window.removeEventListener(\"resize\", measure);\n    };\n  }, [item]);\n  const meta = useMemo(() => {\n    var _item$thumbnail_displ, _item$thumbnail_displ2;\n    if (!item) return {};\n    return {\n      title: titleOf(item) || (item === null || item === void 0 ? void 0 : item[\"o:title\"]),\n      creator: getVal(item, \"dcterms:creator\"),\n      date: getVal(item, \"dcterms:date\"),\n      extent: getVal(item, \"dcterms:extent\", \"\"),\n      identifier: getVal(item, \"dcterms:identifier\", \"\"),\n      type: getVal(item, \"dcterms:type\", \"\"),\n      format: getVal(item, \"dcterms:format\", \"\"),\n      publisher: getVal(item, \"dcterms:publisher\", \"\"),\n      language: getVal(item, \"dcterms:language\", \"\"),\n      rights: getVal(item, \"dcterms:rights\", \"\"),\n      thumb: (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ = item.thumbnail_display_urls) === null || _item$thumbnail_displ === void 0 ? void 0 : _item$thumbnail_displ.large) || (item === null || item === void 0 ? void 0 : (_item$thumbnail_displ2 = item.thumbnail_display_urls) === null || _item$thumbnail_displ2 === void 0 ? void 0 : _item$thumbnail_displ2.medium) || \"/assets/placeholder.webp\"\n    };\n  }, [item]);\n  const descriptions = useMemo(() => {\n    const arr = Array.isArray(item === null || item === void 0 ? void 0 : item[\"dcterms:description\"]) ? item[\"dcterms:description\"] : [];\n    return arr.map(d => typeof (d === null || d === void 0 ? void 0 : d[\"@value\"]) === \"string\" ? d[\"@value\"].trim() : \"\").filter(Boolean);\n  }, [item]);\n  const primaryPdfUrl = useMemo(() => {\n    var _mediaArr$;\n    const mediaArr = Array.isArray(item === null || item === void 0 ? void 0 : item[\"o:media\"]) ? item[\"o:media\"] : [];\n    if (mediaArr.length === 0) return \"\";\n    const firstId = (_mediaArr$ = mediaArr[0]) === null || _mediaArr$ === void 0 ? void 0 : _mediaArr$[\"o:id\"];\n    return firstId ? `/read/${id}` : \"\";\n  }, [item, id]);\n  const scrollToDescriptions = () => {\n    var _descTopRef$current;\n    return (_descTopRef$current = descTopRef.current) === null || _descTopRef$current === void 0 ? void 0 : _descTopRef$current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"start\"\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-6 py-24\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-8 w-40 bg-[#e7d8c9] rounded mb-4 animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-[60vh] bg-[#efe4d9] rounded-3xl animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-7 w-3/4 bg-[#efe4d9] rounded animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-7 w-2/3 bg-[#efe4d9] rounded animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-40 w-full bg-[#efe4d9] rounded animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  if (err || !item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#faf7f2]\",\n      children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-3xl mx-auto px-6 py-16 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-red-700 mb-2\",\n          children: \"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-[#7b6c61]\",\n          children: err || \"ไม่พบข้อมูล\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"mt-6 inline-block text-[#d8653b] underline\",\n          children: \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this);\n  }\n\n  // สลับฝั่งเมื่อเลื่อนถึง descriptions\n  const coverColClass = shiftRight ? \"md:col-start-2\" : \"md:col-start-1\";\n  const detailColClass = shiftRight ? \"md:col-start-1\" : \"md:col-start-2\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen text-[#111518] bg-[#faf7f2]\",\n    children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pt-28 pb-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"text-sm text-[#7b6c61] mb-5\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"hover:underline\",\n            children: \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mx-2\",\n            children: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/books\",\n            className: \"hover:underline\",\n            children: \"\\u0E41\\u0E19\\u0E30\\u0E19\\u0E33\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mx-2\",\n            children: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[#5b4a3e]\",\n            children: meta.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: coverColClass,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:sticky md:top-24 flex items-stretch\",\n              style: {\n                height: !isMobile && heroDetailH ? `${heroDetailH}px` : \"auto\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ParallaxCover, {\n                src: normalizeHttps(meta.thumb),\n                alt: meta.title,\n                shiftRight: shiftRight\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: detailColClass,\n            ref: detailRef,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: detailCardRef,\n              className: \"rounded-3xl shadow-lg border border-[#e7d8c9]/70 bg-[#fffaf3]/90 backdrop-blur p-6 md:p-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"font-extrabold tracking-tight text-[#5b4a3e] mb-3\",\n                style: {\n                  fontSize: \"clamp(1.6rem, 1.2rem + 1.2vw, 2rem)\"\n                },\n                children: meta.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-1 text-[15px] text-[#57493f]\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E1C\\u0E39\\u0E49\\u0E41\\u0E15\\u0E48\\u0E07:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this), \" \", meta.creator]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E1B\\u0E35/\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), \" \", meta.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), meta.extent && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E2B\\u0E19\\u0E49\\u0E32:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 40\n                  }, this), \" \", meta.extent]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 36\n                }, this), meta.identifier && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19/\\u0E25\\u0E34\\u0E07\\u0E01\\u0E4C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 44\n                  }, this), \" \", meta.identifier]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 40\n                }, this), meta.type && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 38\n                  }, this), \" \", meta.type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 34\n                }, this), meta.format && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E1F\\u0E2D\\u0E23\\u0E4C\\u0E41\\u0E21\\u0E15:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 40\n                  }, this), \" \", meta.format]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 36\n                }, this), meta.publisher && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E2A\\u0E33\\u0E19\\u0E31\\u0E01\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 43\n                  }, this), \" \", meta.publisher]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 39\n                }, this), meta.language && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E20\\u0E32\\u0E29\\u0E32:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 42\n                  }, this), \" \", meta.language]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 38\n                }, this), meta.rights && /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"opacity-70\",\n                    children: \"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 40\n                  }, this), \" \", meta.rights]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6 flex gap-3 flex-wrap\",\n                children: [primaryPdfUrl && /*#__PURE__*/_jsxDEV(Link, {\n                  to: primaryPdfUrl,\n                  className: \"inline-flex items-center px-4 py-2 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95 transition\",\n                  children: \"Read Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), descriptions.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: scrollToDescriptions,\n                  className: \"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\",\n                  children: \"\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E04\\u0E33\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22\\u0E14\\u0E49\\u0E32\\u0E19\\u0E25\\u0E48\\u0E32\\u0E07\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/articles/${id}`,\n                  className: \"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\",\n                  children: \"\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E1A\\u0E17\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A\\u0E2D\\u0E48\\u0E32\\u0E19\\u0E22\\u0E32\\u0E27\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: sentinelRef,\n      className: \"h-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"pb-28\",\n      ref: descTopRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-14\",\n        children: [descriptions.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-[#7b6c61]\",\n          children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E33\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E19\\u0E35\\u0E49\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), descriptions.map((desc, idx) => {\n          const even = idx % 2 === 0;\n          const textOnLeft = shiftRight ? true : !even; // หลังปกย้ายขวา บล็อกแรกอยู่ซ้าย\n          return /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-8 items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: textOnLeft ? \"order-2 md:order-1\" : \"order-2 md:order-2\",\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  y: 26\n                },\n                whileInView: {\n                  opacity: 1,\n                  y: 0\n                },\n                viewport: {\n                  once: true,\n                  amount: 0.25\n                },\n                transition: {\n                  duration: 0.5,\n                  ease: \"easeOut\"\n                },\n                className: \"bg-white/95 border border-[#e7d8c9] rounded-3xl shadow-md p-6 md:p-8 leading-8 text-[#3f342d]\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg md:text-xl font-semibold text-[#5b4a3e] mb-3\",\n                  children: [\"\\u0E04\\u0E33\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22 \", descriptions.length > 1 ? `(${idx + 1})` : \"\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"whitespace-pre-wrap\",\n                  children: desc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: textOnLeft ? \"order-1 md:order-2\" : \"order-1 md:order-1\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hidden md:block h-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BackToTop, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n}\n\n/* ========= Parallax Cover ========= */\n_s2(ParallaxBookDetail, \"dqO08+lfeyavj5ILAgSYVgWZt9k=\", false, function () {\n  return [useParams, useIsMobile];\n});\n_c = ParallaxBookDetail;\nfunction ParallaxCover({\n  src,\n  alt,\n  shiftRight\n}) {\n  _s3();\n  const ref = useRef(null);\n  const {\n    scrollYProgress\n  } = useScroll({\n    target: ref,\n    offset: [\"start end\", \"end start\"]\n  });\n\n  // Parallax สบายตา + scale เบา ๆ (ไม่ทำให้รู้สึก \"ใหญ่\")\n  const y = useTransform(scrollYProgress, [0, 1], [0, -36]);\n  const scale = useTransform(scrollYProgress, [0, 1], [1.01, 1.0]);\n  const smoothY = useSpring(y, {\n    stiffness: 120,\n    damping: 20\n  });\n  const smoothScale = useSpring(scale, {\n    stiffness: 120,\n    damping: 20\n  });\n  const glideX = useSpring(shiftRight ? 8 : 0, {\n    stiffness: 120,\n    damping: 20\n  });\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    ref: ref,\n    layout: true,\n    transition: {\n      type: \"spring\",\n      stiffness: 120,\n      damping: 20\n    },\n    style: {\n      y: smoothY,\n      scale: smoothScale,\n      x: glideX\n    },\n    className: \"h-full rounded-3xl overflow-hidden ring-1 ring-[#e7d8c9] bg-[#fffaf3] shadow-lg\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: src,\n      alt: alt,\n      loading: \"lazy\",\n      decoding: \"async\",\n      className: \"w-full h-full object-contain block aspect-[3/4]\" // 3:4 สวยงาม ไม่บิด/ไม่ครอป\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_s3(ParallaxCover, \"R2fxBDP0hFDkrNNoRw+a2C7LH5E=\", false, function () {\n  return [useScroll, useTransform, useTransform, useSpring, useSpring, useSpring];\n});\n_c2 = ParallaxCover;\nvar _c, _c2;\n$RefreshReg$(_c, \"ParallaxBookDetail\");\n$RefreshReg$(_c2, \"ParallaxCover\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useParams","Link","SiteHeader","Footer","BackToTop","api","fetchJsonWithProxies","titleOf","motion","useScroll","useTransform","useSpring","jsxDEV","_jsxDEV","getVal","item","key","fallback","_item$key$0$Value","_item$key","_item$key$","normalizeHttps","raw","startsWith","replace","useIsMobile","_s","isMobile","setIsMobile","uaIsMobile","test","navigator","userAgent","mq","window","matchMedia","update","matches","addEventListener","removeEventListener","ParallaxBookDetail","_s2","id","setItem","loading","setLoading","err","setErr","shiftRight","setShiftRight","sentinelRef","detailRef","detailCardRef","descTopRef","heroDetailH","setHeroDetailH","alive","data","t","document","title","e","message","el","current","io","IntersectionObserver","entries","isIntersecting","root","threshold","observe","disconnect","measure","getBoundingClientRect","height","ro","ResizeObserver","meta","_item$thumbnail_displ","_item$thumbnail_displ2","creator","date","extent","identifier","type","format","publisher","language","rights","thumb","thumbnail_display_urls","large","medium","descriptions","arr","Array","isArray","map","d","trim","filter","Boolean","primaryPdfUrl","_mediaArr$","mediaArr","length","firstId","scrollToDescriptions","_descTopRef$current","scrollIntoView","behavior","block","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","coverColClass","detailColClass","style","ParallaxCover","src","alt","ref","fontSize","onClick","desc","idx","even","textOnLeft","div","initial","opacity","y","whileInView","viewport","once","amount","transition","duration","ease","_c","_s3","scrollYProgress","target","offset","scale","smoothY","stiffness","damping","smoothScale","glideX","layout","x","decoding","_c2","$RefreshReg$"],"sources":["C:/Users/user/Documents/GitHub/the-culture-read-cnx/src/pages/BookArticleDetail.jsx"],"sourcesContent":["// src/pages/ParallaxBookDetail.jsx\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport SiteHeader from \"../components/SiteHeader\";\r\nimport Footer from \"../components/Footer\";\r\nimport BackToTop from \"../components/BackToTop\";\r\nimport { api, fetchJsonWithProxies, titleOf } from \"../lib/omekaClient\";\r\nimport { motion, useScroll, useTransform, useSpring } from \"framer-motion\";\r\n\r\n/** helpers */\r\nconst getVal = (item, key, fallback = \"-\") =>\r\n  item?.[key]?.[0]?.[\"@value\"] ?? fallback;\r\nconst normalizeHttps = (raw) =>\r\n  raw ? (raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw) : \"\";\r\n\r\n// ตรวจจับมือถือ (UA + viewport)\r\nconst useIsMobile = () => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  useEffect(() => {\r\n    const uaIsMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n    const mq = window.matchMedia(\"(max-width: 768px)\");\r\n    const update = () => setIsMobile(uaIsMobile || mq.matches);\r\n    update();\r\n    mq.addEventListener(\"change\", update);\r\n    return () => mq.removeEventListener(\"change\", update);\r\n  }, []);\r\n  return isMobile;\r\n};\r\n\r\nexport default function ParallaxBookDetail() {\r\n  const { id } = useParams();\r\n  const [item, setItem] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n  const [shiftRight, setShiftRight] = useState(false);\r\n  const isMobile = useIsMobile();\r\n\r\n  // refs\r\n  const sentinelRef = useRef(null);\r\n  const detailRef = useRef(null);\r\n  const detailCardRef = useRef(null); // วัดความสูงจากการ์ดจริง\r\n  const descTopRef = useRef(null);    // เลื่อนไปคำอธิบาย\r\n  const [heroDetailH, setHeroDetailH] = useState(null);\r\n\r\n  // โหลดข้อมูล\r\n  useEffect(() => {\r\n    let alive = true;\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        setErr(\"\");\r\n        const data = await fetchJsonWithProxies(api(`/items/${id}`));\r\n        if (!alive) return;\r\n        setItem(data);\r\n        const t = titleOf(data) || data?.[\"o:title\"] || \"รายละเอียดหนังสือ\";\r\n        document.title = `${t} · Parallax Detail`;\r\n      } catch (e) {\r\n        if (!alive) return;\r\n        setErr(e?.message || \"โหลดข้อมูลไม่สำเร็จ\");\r\n      } finally {\r\n        if (alive) setLoading(false);\r\n      }\r\n    })();\r\n    return () => { alive = false; };\r\n  }, [id]);\r\n\r\n  // เมื่อคำอธิบายเริ่มเข้าจอ -> ปกย้ายฝั่ง\r\n  useEffect(() => {\r\n    const el = sentinelRef.current;\r\n    if (!el) return;\r\n    const io = new IntersectionObserver(\r\n      (entries) => setShiftRight(entries[0].isIntersecting),\r\n      { root: null, threshold: 0.15 }\r\n    );\r\n    io.observe(el);\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  // วัดความสูงการ์ดขวาแบบเป๊ะ\r\n  useEffect(() => {\r\n    const el = detailCardRef.current || detailRef.current;\r\n    if (!el) return;\r\n    const measure = () => setHeroDetailH(el.getBoundingClientRect().height);\r\n    measure();\r\n    const ro = new ResizeObserver(measure);\r\n    ro.observe(el);\r\n    window.addEventListener(\"resize\", measure);\r\n    return () => { ro.disconnect(); window.removeEventListener(\"resize\", measure); };\r\n  }, [item]);\r\n\r\n  const meta = useMemo(() => {\r\n    if (!item) return {};\r\n    return {\r\n      title: titleOf(item) || item?.[\"o:title\"],\r\n      creator: getVal(item, \"dcterms:creator\"),\r\n      date: getVal(item, \"dcterms:date\"),\r\n      extent: getVal(item, \"dcterms:extent\", \"\"),\r\n      identifier: getVal(item, \"dcterms:identifier\", \"\"),\r\n      type: getVal(item, \"dcterms:type\", \"\"),\r\n      format: getVal(item, \"dcterms:format\", \"\"),\r\n      publisher: getVal(item, \"dcterms:publisher\", \"\"),\r\n      language: getVal(item, \"dcterms:language\", \"\"),\r\n      rights: getVal(item, \"dcterms:rights\", \"\"),\r\n      thumb:\r\n        item?.thumbnail_display_urls?.large ||\r\n        item?.thumbnail_display_urls?.medium ||\r\n        \"/assets/placeholder.webp\",\r\n    };\r\n  }, [item]);\r\n\r\n  const descriptions = useMemo(() => {\r\n    const arr = Array.isArray(item?.[\"dcterms:description\"])\r\n      ? item[\"dcterms:description\"]\r\n      : [];\r\n    return arr.map((d) => (typeof d?.[\"@value\"] === \"string\" ? d[\"@value\"].trim() : \"\"))\r\n             .filter(Boolean);\r\n  }, [item]);\r\n\r\n  const primaryPdfUrl = useMemo(() => {\r\n    const mediaArr = Array.isArray(item?.[\"o:media\"]) ? item[\"o:media\"] : [];\r\n    if (mediaArr.length === 0) return \"\";\r\n    const firstId = mediaArr[0]?.[\"o:id\"];\r\n    return firstId ? `/read/${id}` : \"\";\r\n  }, [item, id]);\r\n\r\n  const scrollToDescriptions = () =>\r\n    descTopRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#faf7f2]\">\r\n        <SiteHeader />\r\n        <div className=\"max-w-7xl mx-auto px-6 py-24\">\r\n          <div className=\"h-8 w-40 bg-[#e7d8c9] rounded mb-4 animate-pulse\" />\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            <div className=\"h-[60vh] bg-[#efe4d9] rounded-3xl animate-pulse\" />\r\n            <div className=\"space-y-3\">\r\n              <div className=\"h-7 w-3/4 bg-[#efe4d9] rounded animate-pulse\" />\r\n              <div className=\"h-7 w-2/3 bg-[#efe4d9] rounded animate-pulse\" />\r\n              <div className=\"h-40 w-full bg-[#efe4d9] rounded animate-pulse\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (err || !item) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#faf7f2]\">\r\n        <SiteHeader />\r\n        <main className=\"max-w-3xl mx-auto px-6 py-16 text-center\">\r\n          <h1 className=\"text-2xl font-bold text-red-700 mb-2\">เกิดข้อผิดพลาด</h1>\r\n          <p className=\"text-[#7b6c61]\">{err || \"ไม่พบข้อมูล\"}</p>\r\n          <Link to=\"/\" className=\"mt-6 inline-block text-[#d8653b] underline\">กลับหน้าแรก</Link>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // สลับฝั่งเมื่อเลื่อนถึง descriptions\r\n  const coverColClass = shiftRight ? \"md:col-start-2\" : \"md:col-start-1\";\r\n  const detailColClass = shiftRight ? \"md:col-start-1\" : \"md:col-start-2\";\r\n\r\n  return (\r\n    <div className=\"min-h-screen text-[#111518] bg-[#faf7f2]\">\r\n      <SiteHeader />\r\n\r\n      {/* HERO + ปกตรึง (sticky) */}\r\n      <section className=\"pt-28 pb-20\">\r\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          {/* breadcrumb */}\r\n          <nav className=\"text-sm text-[#7b6c61] mb-5\">\r\n            <Link to=\"/\" className=\"hover:underline\">หน้าแรก</Link>\r\n            <span className=\"mx-2\">/</span>\r\n            <Link to=\"/books\" className=\"hover:underline\">แนะนำหนังสือ</Link>\r\n            <span className=\"mx-2\">/</span>\r\n            <span className=\"text-[#5b4a3e]\">{meta.title}</span>\r\n          </nav>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 items-start\">\r\n            {/* ปก */}\r\n            <div className={coverColClass}>\r\n              <div\r\n                className=\"md:sticky md:top-24 flex items-stretch\"\r\n                style={{\r\n                  height: !isMobile && heroDetailH ? `${heroDetailH}px` : \"auto\",\r\n                }}\r\n              >\r\n                <ParallaxCover\r\n                  src={normalizeHttps(meta.thumb)}\r\n                  alt={meta.title}\r\n                  shiftRight={shiftRight}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* รายละเอียด */}\r\n            <div className={detailColClass} ref={detailRef}>\r\n              <div\r\n                ref={detailCardRef}\r\n                className=\"rounded-3xl shadow-lg border border-[#e7d8c9]/70 bg-[#fffaf3]/90 backdrop-blur p-6 md:p-8\"\r\n              >\r\n                <h1\r\n                  className=\"font-extrabold tracking-tight text-[#5b4a3e] mb-3\"\r\n                  style={{ fontSize: \"clamp(1.6rem, 1.2rem + 1.2vw, 2rem)\" }}\r\n                >\r\n                  {meta.title}\r\n                </h1>\r\n                <ul className=\"space-y-1 text-[15px] text-[#57493f]\">\r\n                  <li><span className=\"opacity-70\">ผู้แต่ง:</span> {meta.creator}</li>\r\n                  <li><span className=\"opacity-70\">ปี/วันที่:</span> {meta.date}</li>\r\n                  {meta.extent && (<li><span className=\"opacity-70\">จำนวนหน้า:</span> {meta.extent}</li>)}\r\n                  {meta.identifier && (<li><span className=\"opacity-70\">เลขทะเบียน/ลิงก์:</span> {meta.identifier}</li>)}\r\n                  {meta.type && (<li><span className=\"opacity-70\">ประเภท:</span> {meta.type}</li>)}\r\n                  {meta.format && (<li><span className=\"opacity-70\">ฟอร์แมต:</span> {meta.format}</li>)}\r\n                  {meta.publisher && (<li><span className=\"opacity-70\">สำนักพิมพ์:</span> {meta.publisher}</li>)}\r\n                  {meta.language && (<li><span className=\"opacity-70\">ภาษา:</span> {meta.language}</li>)}\r\n                  {meta.rights && (<li><span className=\"opacity-70\">สิทธิ์:</span> {meta.rights}</li>)}\r\n                </ul>\r\n\r\n                <div className=\"mt-6 flex gap-3 flex-wrap\">\r\n                  {primaryPdfUrl && (\r\n                    <Link\r\n                      to={primaryPdfUrl}\r\n                      className=\"inline-flex items-center px-4 py-2 rounded-xl bg-[#d8653b] text-white shadow hover:opacity-95 transition\"\r\n                    >\r\n                      Read Now\r\n                    </Link>\r\n                  )}\r\n                  {descriptions.length > 0 && (\r\n                    <button\r\n                      onClick={scrollToDescriptions}\r\n                      className=\"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\"\r\n                    >\r\n                      อ่านคำอธิบายด้านล่าง\r\n                    </button>\r\n                  )}\r\n                  <Link\r\n                    to={`/articles/${id}`}\r\n                    className=\"inline-flex items-center px-4 py-2 rounded-xl bg-white text-[#5b4a3e] ring-1 ring-[#e7d8c9] shadow-sm hover:bg-[#fff7ee]\"\r\n                  >\r\n                    เปิดบทความแบบอ่านยาว\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* จุดเริ่ม descriptions เพื่อสลับฝั่งปก */}\r\n      <div ref={sentinelRef} className=\"h-2\" />\r\n\r\n      {/* DESCRIPTION SECTIONS */}\r\n      <main className=\"pb-28\" ref={descTopRef}>\r\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-14\">\r\n          {descriptions.length === 0 && (\r\n            <p className=\"text-center text-[#7b6c61]\">ยังไม่มีคำอธิบายสำหรับรายการนี้</p>\r\n          )}\r\n\r\n          {descriptions.map((desc, idx) => {\r\n            const even = idx % 2 === 0;\r\n            const textOnLeft = shiftRight ? true : !even; // หลังปกย้ายขวา บล็อกแรกอยู่ซ้าย\r\n            return (\r\n              <section key={idx} className=\"grid grid-cols-1 md:grid-cols-2 gap-8 items-start\">\r\n                <div className={textOnLeft ? \"order-2 md:order-1\" : \"order-2 md:order-2\"}>\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: 26 }}\r\n                    whileInView={{ opacity: 1, y: 0 }}\r\n                    viewport={{ once: true, amount: 0.25 }}\r\n                    transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n                    className=\"bg-white/95 border border-[#e7d8c9] rounded-3xl shadow-md p-6 md:p-8 leading-8 text-[#3f342d]\"\r\n                  >\r\n                    <h2 className=\"text-lg md:text-xl font-semibold text-[#5b4a3e] mb-3\">\r\n                      คำอธิบาย {descriptions.length > 1 ? `(${idx + 1})` : \"\"}\r\n                    </h2>\r\n                    <p className=\"whitespace-pre-wrap\">{desc}</p>\r\n                  </motion.div>\r\n                </div>\r\n                {/* ช่องว่างฝั่งปก (sticky อยู่ด้านบน) */}\r\n                <div className={textOnLeft ? \"order-1 md:order-2\" : \"order-1 md:order-1\"}>\r\n                  <div className=\"hidden md:block h-0\" />\r\n                </div>\r\n              </section>\r\n            );\r\n          })}\r\n        </div>\r\n      </main>\r\n\r\n      <Footer />\r\n      <BackToTop />\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ========= Parallax Cover ========= */\r\nfunction ParallaxCover({ src, alt, shiftRight }) {\r\n  const ref = useRef(null);\r\n  const { scrollYProgress } = useScroll({ target: ref, offset: [\"start end\", \"end start\"] });\r\n\r\n  // Parallax สบายตา + scale เบา ๆ (ไม่ทำให้รู้สึก \"ใหญ่\")\r\n  const y = useTransform(scrollYProgress, [0, 1], [0, -36]);\r\n  const scale = useTransform(scrollYProgress, [0, 1], [1.01, 1.0]);\r\n\r\n  const smoothY = useSpring(y, { stiffness: 120, damping: 20 });\r\n  const smoothScale = useSpring(scale, { stiffness: 120, damping: 20 });\r\n  const glideX = useSpring(shiftRight ? 8 : 0, { stiffness: 120, damping: 20 });\r\n\r\n  return (\r\n    <motion.div\r\n      ref={ref}\r\n      layout\r\n      transition={{ type: \"spring\", stiffness: 120, damping: 20 }}\r\n      style={{ y: smoothY, scale: smoothScale, x: glideX }}\r\n      className=\"h-full rounded-3xl overflow-hidden ring-1 ring-[#e7d8c9] bg-[#fffaf3] shadow-lg\"\r\n    >\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        loading=\"lazy\"\r\n        decoding=\"async\"\r\n        className=\"w-full h-full object-contain block aspect-[3/4]\" // 3:4 สวยงาม ไม่บิด/ไม่ครอป\r\n      />\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}