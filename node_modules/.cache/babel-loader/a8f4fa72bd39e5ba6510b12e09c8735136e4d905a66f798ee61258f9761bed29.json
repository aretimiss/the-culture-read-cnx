{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\the-culture-read-cnx\\\\src\\\\pages\\\\ReaderPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/ReaderPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport InlinePdfSpread from \"../components/InlinePdfSpread\";\nimport { api, fetchJsonWithProxies } from \"../lib/omekaClient\";\nimport { pickLang } from \"../lib/i18nPick\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReaderPage() {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const {\n    id\n  } = useParams();\n  const [pdfUrl, setPdfUrl] = useState(\"\");\n  const [title, setTitle] = useState(t(\"status.loading\", \"กำลังโหลด…\"));\n  const [err, setErr] = useState(\"\");\n  const [isMobile, setIsMobile] = useState(false);\n\n  // ปรับ background-attachment สำหรับ iOS/mobile + ตรวจจับจอเล็ก\n  useEffect(() => {\n    var _mq$addEventListener;\n    const uaIsMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\n    const mq = window.matchMedia(\"(max-width: 768px)\");\n    const update = () => setIsMobile(uaIsMobile || mq.matches);\n\n    // iOS safari ไม่ชอบ fixed\n    document.documentElement.style.setProperty(\"--bg-attach\", mq.matches ? \"scroll\" : \"fixed\");\n    update();\n    (_mq$addEventListener = mq.addEventListener) === null || _mq$addEventListener === void 0 ? void 0 : _mq$addEventListener.call(mq, \"change\", update);\n    return () => {\n      var _mq$removeEventListen;\n      return (_mq$removeEventListen = mq.removeEventListener) === null || _mq$removeEventListen === void 0 ? void 0 : _mq$removeEventListen.call(mq, \"change\", update);\n    };\n  }, []);\n  const normalizePdfUrl = raw => {\n    if (!raw) return \"\";\n    return raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw;\n  };\n\n  // ดึงข้อมูลรายการ + หา media ที่เป็น PDF\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setErr(\"\");\n        setPdfUrl(\"\");\n        setTitle(t(\"status.loading\", \"กำลังโหลด…\"));\n\n        // 1) ดึง Item\n        const item = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!alive) return;\n        const ti = pickLang(item === null || item === void 0 ? void 0 : item[\"dcterms:title\"], i18n.language) || (item === null || item === void 0 ? void 0 : item[\"o:title\"]) || `${t(\"reader.item\", \"รายการ\")} #${id}`;\n        setTitle(ti);\n        document.title = `${ti} · ${t(\"reader.reading\", \"อ่านหนังสือ\")}`;\n\n        // 2) เลือก media ที่เป็น PDF\n        const medias = Array.isArray(item === null || item === void 0 ? void 0 : item[\"o:media\"]) ? item[\"o:media\"] : [];\n        if (!medias.length) {\n          setErr(t(\"reader.noFiles\", \"ไม่พบไฟล์ของรายการนี้\"));\n          return;\n        }\n\n        // ไล่เช็คทีละ media จนกว่าจะเจอ PDF\n        let found = \"\";\n        for (const m of medias) {\n          const mid = m === null || m === void 0 ? void 0 : m[\"o:id\"];\n          if (!mid) continue;\n          const md = await fetchJsonWithProxies(api(`/media/${mid}`));\n          const url = (md === null || md === void 0 ? void 0 : md[\"o:original_url\"]) || \"\";\n          const type = ((md === null || md === void 0 ? void 0 : md[\"o:media_type\"]) || \"\").toLowerCase();\n          const looksPdf = type.includes(\"pdf\") || /\\.pdf(\\?|$)/i.test(url);\n          if (looksPdf && url) {\n            found = normalizePdfUrl(url);\n            break;\n          }\n        }\n\n        // ถ้ายังไม่เจอ PDF เลย ลอง fallback เป็น media แรก\n        if (!found) {\n          const md0 = await fetchJsonWithProxies(api(`/media/${medias[0][\"o:id\"]}`));\n          const url0 = md0 === null || md0 === void 0 ? void 0 : md0[\"o:original_url\"];\n          if (url0) found = normalizePdfUrl(url0);\n        }\n        if (!found) {\n          setErr(t(\"reader.noPdf\", \"ไม่พบลิงก์ไฟล์ PDF\"));\n          return;\n        }\n        setPdfUrl(found);\n      } catch (e) {\n        if (!alive) return;\n        setErr((e === null || e === void 0 ? void 0 : e.message) || t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [id, i18n.language, t]);\n  const gview = pdfUrl ? `https://docs.google.com/gview?url=${encodeURIComponent(pdfUrl)}&embedded=true` : \"\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen text-[#111518]\",\n    style: {\n      backgroundImage: \"url('/assets/banner.webp')\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      backgroundAttachment: \"var(--bg-attach, fixed)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(SiteHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-8 pt-24 pb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"text-sm text-[#7b6c61] mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"hover:underline\",\n          children: t(\"nav.home\", \"หน้าแรก\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-2\",\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-[#5b4a3e]\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-3xl shadow-lg border border-[#e7d8c9]/70 bg-[#fffaf3]/80 backdrop-blur-md p-3 md:p-4\",\n        children: err ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-red-700\",\n          children: err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this) : !pdfUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-[#7b6c61]\",\n          children: t(\"reader.preparing\", \"กำลังเตรียมไฟล์ PDF…\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this) : isMobile ?\n        /*#__PURE__*/\n        // ✅ มือถือ: Google Docs Viewer ภายในหน้า (ไม่ต้องเปิดแท็บใหม่)\n        _jsxDEV(\"iframe\", {\n          title: \"PDF Mobile Viewer\",\n          src: gview,\n          className: \"w-full rounded-2xl\",\n          style: {\n            border: \"none\",\n            height: \"calc(100dvh - 160px)\"\n          },\n          allow: \"clipboard-read; clipboard-write\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // ✅ เดสก์ท็อป: ใช้ react-pdf แบบกระดาษคู่/ปรับขนาด\n        _jsxDEV(InlinePdfSpread, {\n          fileUrl: `${pdfUrl}#view=FitH`,\n          mobileEdge: true,\n          className: \"mb-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(ReaderPage, \"mc9+Wksyt2+RzHzqMvuTvNIERAc=\", false, function () {\n  return [useTranslation, useParams];\n});\n_c = ReaderPage;\nvar _c;\n$RefreshReg$(_c, \"ReaderPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","SiteHeader","Footer","InlinePdfSpread","api","fetchJsonWithProxies","pickLang","useTranslation","i18n","jsxDEV","_jsxDEV","ReaderPage","_s","t","id","pdfUrl","setPdfUrl","title","setTitle","err","setErr","isMobile","setIsMobile","_mq$addEventListener","uaIsMobile","test","navigator","userAgent","mq","window","matchMedia","update","matches","document","documentElement","style","setProperty","addEventListener","call","_mq$removeEventListen","removeEventListener","normalizePdfUrl","raw","startsWith","replace","alive","item","ti","language","medias","Array","isArray","length","found","m","mid","md","url","type","toLowerCase","looksPdf","includes","md0","url0","e","message","gview","encodeURIComponent","className","backgroundImage","backgroundSize","backgroundPosition","backgroundAttachment","children","fileName","_jsxFileName","lineNumber","columnNumber","to","src","border","height","allow","fileUrl","mobileEdge","_c","$RefreshReg$"],"sources":["C:/Users/user/Documents/GitHub/the-culture-read-cnx/src/pages/ReaderPage.jsx"],"sourcesContent":["// src/pages/ReaderPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\n\nimport SiteHeader from \"../components/SiteHeader\";\nimport Footer from \"../components/Footer\";\nimport InlinePdfSpread from \"../components/InlinePdfSpread\";\n\nimport { api, fetchJsonWithProxies } from \"../lib/omekaClient\";\nimport { pickLang } from \"../lib/i18nPick\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../i18n\";\n\nexport default function ReaderPage() {\n  const { t } = useTranslation();\n  const { id } = useParams();\n\n  const [pdfUrl, setPdfUrl] = useState(\"\");\n  const [title, setTitle] = useState(t(\"status.loading\", \"กำลังโหลด…\"));\n  const [err, setErr] = useState(\"\");\n  const [isMobile, setIsMobile] = useState(false);\n\n  // ปรับ background-attachment สำหรับ iOS/mobile + ตรวจจับจอเล็ก\n  useEffect(() => {\n    const uaIsMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\n    const mq = window.matchMedia(\"(max-width: 768px)\");\n    const update = () => setIsMobile(uaIsMobile || mq.matches);\n\n    // iOS safari ไม่ชอบ fixed\n    document.documentElement.style.setProperty(\"--bg-attach\", mq.matches ? \"scroll\" : \"fixed\");\n\n    update();\n    mq.addEventListener?.(\"change\", update);\n    return () => mq.removeEventListener?.(\"change\", update);\n  }, []);\n\n  const normalizePdfUrl = (raw) => {\n    if (!raw) return \"\";\n    return raw.startsWith(\"http://\") ? raw.replace(/^http:/, \"https:\") : raw;\n  };\n\n  // ดึงข้อมูลรายการ + หา media ที่เป็น PDF\n  useEffect(() => {\n    let alive = true;\n\n    (async () => {\n      try {\n        setErr(\"\");\n        setPdfUrl(\"\");\n        setTitle(t(\"status.loading\", \"กำลังโหลด…\"));\n\n        // 1) ดึง Item\n        const item = await fetchJsonWithProxies(api(`/items/${id}`));\n        if (!alive) return;\n\n        const ti =\n          pickLang(item?.[\"dcterms:title\"], i18n.language) ||\n          item?.[\"o:title\"] ||\n          `${t(\"reader.item\", \"รายการ\")} #${id}`;\n\n        setTitle(ti);\n        document.title = `${ti} · ${t(\"reader.reading\", \"อ่านหนังสือ\")}`;\n\n        // 2) เลือก media ที่เป็น PDF\n        const medias = Array.isArray(item?.[\"o:media\"]) ? item[\"o:media\"] : [];\n        if (!medias.length) {\n          setErr(t(\"reader.noFiles\", \"ไม่พบไฟล์ของรายการนี้\"));\n          return;\n        }\n\n        // ไล่เช็คทีละ media จนกว่าจะเจอ PDF\n        let found = \"\";\n        for (const m of medias) {\n          const mid = m?.[\"o:id\"];\n          if (!mid) continue;\n          const md = await fetchJsonWithProxies(api(`/media/${mid}`));\n          const url = md?.[\"o:original_url\"] || \"\";\n          const type = (md?.[\"o:media_type\"] || \"\").toLowerCase();\n          const looksPdf = type.includes(\"pdf\") || /\\.pdf(\\?|$)/i.test(url);\n          if (looksPdf && url) {\n            found = normalizePdfUrl(url);\n            break;\n          }\n        }\n\n        // ถ้ายังไม่เจอ PDF เลย ลอง fallback เป็น media แรก\n        if (!found) {\n          const md0 = await fetchJsonWithProxies(api(`/media/${medias[0][\"o:id\"]}`));\n          const url0 = md0?.[\"o:original_url\"];\n          if (url0) found = normalizePdfUrl(url0);\n        }\n\n        if (!found) {\n          setErr(t(\"reader.noPdf\", \"ไม่พบลิงก์ไฟล์ PDF\"));\n          return;\n        }\n\n        setPdfUrl(found);\n      } catch (e) {\n        if (!alive) return;\n        setErr(e?.message || t(\"errors.loadFailed\", \"โหลดข้อมูลไม่สำเร็จ\"));\n      }\n    })();\n\n    return () => {\n      alive = false;\n    };\n  }, [id, i18n.language, t]);\n\n  const gview = pdfUrl\n    ? `https://docs.google.com/gview?url=${encodeURIComponent(pdfUrl)}&embedded=true`\n    : \"\";\n\n  return (\n    <div\n      className=\"min-h-screen text-[#111518]\"\n      style={{\n        backgroundImage: \"url('/assets/banner.webp')\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        backgroundAttachment: \"var(--bg-attach, fixed)\",\n      }}\n    >\n      <SiteHeader />\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-8 pt-24 pb-10\">\n        <nav className=\"text-sm text-[#7b6c61] mb-3\">\n          <Link to=\"/\" className=\"hover:underline\">\n            {t(\"nav.home\", \"หน้าแรก\")}\n          </Link>\n          <span className=\"mx-2\">/</span>\n          <span className=\"text-[#5b4a3e]\">{title}</span>\n        </nav>\n\n        <div className=\"rounded-3xl shadow-lg border border-[#e7d8c9]/70 bg-[#fffaf3]/80 backdrop-blur-md p-3 md:p-4\">\n          {err ? (\n            <div className=\"p-6 text-red-700\">{err}</div>\n          ) : !pdfUrl ? (\n            <div className=\"p-6 text-[#7b6c61]\">{t(\"reader.preparing\", \"กำลังเตรียมไฟล์ PDF…\")}</div>\n          ) : isMobile ? (\n            // ✅ มือถือ: Google Docs Viewer ภายในหน้า (ไม่ต้องเปิดแท็บใหม่)\n            <iframe\n              title=\"PDF Mobile Viewer\"\n              src={gview}\n              className=\"w-full rounded-2xl\"\n              style={{ border: \"none\", height: \"calc(100dvh - 160px)\" }}\n              allow=\"clipboard-read; clipboard-write\"\n            />\n          ) : (\n            // ✅ เดสก์ท็อป: ใช้ react-pdf แบบกระดาษคู่/ปรับขนาด\n            <InlinePdfSpread fileUrl={`${pdfUrl}#view=FitH`} mobileEdge className=\"mb-0\" />\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}